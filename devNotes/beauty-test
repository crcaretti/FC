<<widget "Beauty">>

<<modScore $args[0]>>
<<if $modScore > 15 || ($piercingScore > 8 && $tatScore > 5)>>
	<<set $modded += 1>>
<<elseif $args[0].corsetPiercing == 0 && $piercingScore < 3 && $tatScore < 2>>
	<<set $unmodded += 1>>
<</if>>
<<if $args[0].vagina == -1>>
	<<set $XY += 1>>
<<else>>
	<<set $XX += 1>>
<</if>>
<<if $args[0].visualAge >= 30>>
	<<set $old += 1>>
<<else>>
	<<set $young += 1>>
<</if>>

<<set $beauty = 0>>

<<if $args[0].fuckdoll == 0>> /* NOT A FUCKDOLL */

<<set $beauty += 150 - ($args[0].visualAge*3) + (5*$args[0].ageImplant) + (Math.min($args[0].health,100)/5) - ($args[0].waist/20) - ($args[0].muscles/30) +($args[0].lips/10) + ($args[0].face/5) + ($args[0].clit) + (($args[0].height-160)/10) + ($args[0].voice) + (3*$args[0].intelligence) + ($args[0].entertainSkill/10) + ($args[0].whoreSkill/10) + (2*$args[0].hips)>>

<<if $arcologies[0].FSDegradationist != "unset">>
	<<set $beauty -= ($arcologies[0].FSDegradationist/10)*$args[0].intelligence>>
<</if>>

<<if $arcologies[0].FSGenderFundamentalistLawBimbo == 1>>
	<<set $beauty -= 6*$args[0].intelligence>>
<</if>>

<<if $args[0].teeth == "crooked">>
	<<set $beauty -= 3>>
<<elseif ($args[0].teeth == "braces" || $args[0].teeth == "cosmetic braces") && $args[0].visualAge > 14>>
	<<set $beauty += 1>>
<<elseif $args[0].teeth != "normal">>
	<<set $beauty -= 1>>
<</if>>

<<if $args[0].faceShape == "masculine">>
	<<if ($arcologies[0].FSGenderRadicalist != "unset")>>
	<<set $beauty -= (2-($arcologies[0].FSGenderRadicalist/25))*($args[0].face/30)>>
	<<elseif ($arcologies[0].FSGenderFundamentalist != "unset")>>
	<<set $beauty -= (2+($arcologies[0].FSGenderFundamentalist/25))*($args[0].face/30)>>
	<<else>>
	<<set $beauty -= 2*($args[0].face/30)>>
	<</if>>
<<elseif $args[0].faceShape == "androgynous">>
	<<if ($arcologies[0].FSGenderRadicalist != "unset")>>
	<<set $beauty -= (0-($arcologies[0].FSGenderRadicalist/25))*($args[0].face/30)>>
	<<elseif ($arcologies[0].FSGenderFundamentalist != "unset")>>
	<<set $beauty -= ($arcologies[0].FSGenderFundamentalist/25)*($args[0].face/30)>>
	<<else>>
	<<set $beauty -= $args[0].face/30>>
	<</if>>
<<elseif $args[0].faceShape is "exotic">>
	<<set $beauty += 2*($args[0].face/30)>>
<<elseif $args[0].faceShape is "sensual">>
	<<set $beauty += 2+($args[0].face/30)>>
<<elseif $args[0].faceShape is "cute">>
	<<set $beauty += 4>>
<</if>>

<<if $args[0].brand != 0>>
	<<if $rep > 10000>>
	<<set $beauty += 1>>
	<<elseif $rep < 5000>>
	<<set $beauty -= 1>>
	<</if>>
<</if>>

<<if $args[0].minorInjury != 0>>
	<<set $beauty -= 2>>
<</if>>

<<if $args[0].cSec == 1>>
	<<set $beauty -= 2>>
<</if>>

<<if $args[0].nails > 0>><<set $beauty += 1>><</if>>
<<if $args[0].makeup > 0>><<set $beauty += 1>><</if>>

<<if ($arcologies[0].FSTransformationFetishist > 20) || ($arcologies[0].FSDegradationist > 20)>>
	<<if $modScore > 15 || ($piercingScore > 8 && $tatScore > 5)>>
	<<set $beauty += 8+($modScore*0.25)>>
	<<elseif $modScore > 7>>
	<<set $beauty += $modScore-7>>
	<</if>>
<<elseif ($arcologies[0].FSBodyPurist > 20) || ($arcologies[0].FSPaternalist > 20)>>
	<<if $modScore <= 7>>
	<<set $beauty += 10>>
	<<else>>
	<<set $beauty += 15-$modScore>>
	<</if>>
<<else>>
	<<if $modScore <= 7>>
	<<set $beauty += $modScore>>
	<<elseif $modScore > 15 || ($piercingScore > 8 && $tatScore > 5)>>
	<<set $beauty += 11>>
	<<else>>
	<<set $beauty += 7+(0.5*($modScore-7))>>
	<</if>>
<</if>>

<<if $arcologies[0].FSSupremacist != "unset">>
<<if $args[0].race != $arcologies[0].FSSupremacistRace>>
	<<set $beauty += ($arcologies[0].FSSupremacist/30)+$arcologies[0].FSSupremacistLawME>>
<</if>>
<</if>>
<<if $arcologies[0].FSSubjugationist != "unset">>
<<if $args[0].race == $arcologies[0].FSSubjugationistRace>>
	<<set $beauty += ($arcologies[0].FSSubjugationist/20)+$arcologies[0].FSSubjugationistLawME>>
<</if>>
<</if>>
<<if $arcologies[0].FSEdoRevivalist != "unset">>
<<if ($args[0].nationality == "Japanese") || ($args[0].nationality == "Edo Revivalist")>>
	<<set $beauty += ($arcologies[0].FSEdoRevivalist/20)>>
<</if>>
<</if>>
<<if $arcologies[0].FSChineseRevivalist != "unset">>
<<if ($args[0].nationality == "Chinese") || ($args[0].nationality == "Chinese Revivalist")>>
	<<set $beauty += ($arcologies[0].FSChineseRevivalist/20)>>
<</if>>
<</if>>

<<if $args[0].race == "white">>
	<<set $beauty += 4>>
<<elseif $args[0].race == "surgically altered to look white">>
	<<set $beauty += 2>>
<</if>>

<<if $args[0].visualAge >= 30>>
	<<if $arcologies[0].FSYouthPreferentialist != "unset">>
		<<set $beauty -= ($arcologies[0].FSYouthPreferentialist/30)+$arcologies[0].FSYouthPreferentialistLaw>>
	<<elseif $arcologies[0].FSMaturityPreferentialist != "unset">>
		<<set $beauty += ($arcologies[0].FSMaturityPreferentialist/20)+$arcologies[0].FSMaturityPreferentialistLaw>>
	<</if>>
<<else>>
	<<if $arcologies[0].FSMaturityPreferentialist != "unset">>
		<<set $beauty -= ($arcologies[0].FSMaturityPreferentialist/30)-$arcologies[0].FSMaturityPreferentialistLaw>>
	<<elseif $arcologies[0].FSYouthPreferentialist != "unset">>
		<<set $beauty += ($arcologies[0].FSYouthPreferentialist/20)-$arcologies[0].FSYouthPreferentialistLaw>>
	<</if>>
<</if>>

<<if ($args[0].markings != "none")>>
	<<if ($args[0].markings is "beauty mark")>>
	<<if ($args[0].face > 40)>>
		<<set $beauty += 2>>
	<<elseif ($args[0].face < -10)>>
		<<set $beauty -= 2>>
	<</if>>
	<<elseif ($args[0].markings == "birthmark")>>
	<<if ($args[0].prestige > 0)>>
		<<set $beauty += 2>>
	<<else>>
		<<set $beauty -= 2>>
	<</if>>
	<<else>>
	<<if ($args[0].skin == "pale") || ($args[0].skin == "fair")>>
		<<set $beauty += 1>>
		<<if ($args[0].hColor == "red")>>
		<<set $beauty += 1>>
		<</if>>
	<</if>>
	<</if>>
<</if>>

<<if $entertainmentCareers.includes($args[0].career)>>
	<<set $beauty += 1>>
<<elseif ($week-$args[0].weekAcquired >= 20) && ($args[0].entertainSkill >= 100)>>
	<<set $beauty += 1>>
<</if>>

<<if $seeAge == 1>>
<<if $args[0].physicalAge == 18>>
	<<set $beauty += 1>>
	<<if $args[0].birthWeek == 0>>
	<<set $beauty += 0.8*$beauty>>
	<<elseif $args[0].birthWeek < 4>>
	<<set $beauty += 0.1*$beauty>>
	<</if>>
<</if>>
<</if>>
	
<<else>> /* FUCKDOLL */

<<set $beauty += 100 + ($args[0].waist/20) - ($args[0].muscles/30) +($args[0].lips/10) + ($args[0].face/10) + ($args[0].clit) + (($args[0].height-160)/10) + (2*$args[0].hips)>>

<</if>> /* CLOSES FUCKDOLL CHECK */

/* WIP Content! */

<<if $args[0].butt <= 10>>
	<<set $beauty += (1.5*$args[0].butt)>> /*15*/
<<else>>
	<<set $beauty += (15+($args[0].butt/4))>> /*20*/
<</if>>

/* Cock + Balls */

<<if ($arcologies[0].FSAssetExpansionist != "unset") && $arcologies[0].FSGenderFundamentalist == "unset">>
	<<if $args[0].dick >= 20>>
		<<set $beauty += 17+($args[0].dick*($arcologies[0].FSGenderRadicalist/500))>> /*23*/
	<<elseif $args[0].dick >= 10>>
		<<set $beauty += 10+($args[0].dick*($arcologies[0].FSGenderRadicalist/300))>> /*16.3*/
	<<elseif $args[0].dick > 6>>
		<<set $beauty += $args[0].dick*(1+($arcologies[0].FSAssetExpansionist/100))>> /*10*/
	<</if>>
	<<if $args[0].balls > 100>>
		<<set $beauty += Math.trunc(60+($args[0].balls/25))>> /*65*/
	<<elseif $args[0].balls > 80>>
		<<set $beauty += Math.trunc(44+($args[0].balls/6))>> /*60.6*/
	<<elseif $args[0].balls > 60>>
		<<set $beauty += Math.trunc(24+($args[0].balls/4))>> /*44*/
	<<elseif $args[0].balls > 10>>
		<<set $beauty += Math.trunc($args[0].balls/2.5)>> /*24*/
	<</if>>
<<elseif $arcologies[0].FSGenderFundamentalist != "unset">>
	<<if $args[0].dick > 0>>
		<<set $beauty += 3-$args[0].dick>>
	<</if>>
	<<if $args[0].scrotum > 0>>
		<<set $beauty -= $args[0].balls*(1+($arcologies[0].FSGenderFundamentalist/200))>>
		<<if $args[0].pubertyXY == 0>>
			<<set $beauty += 5>>
		<</if>>
	<</if>>
<<elseif $arcologies[0].FSGenderRadicalist != "unset">>
	<<if $args[0].dick > 20>>
		<<set $beauty += 20+($args[0].dick*($arcologies[0].FSGenderRadicalist/400))>> /*27.5*/
	<<elseif $args[0].dick >= 10>>
		<<set $beauty += 10+($args[0].dick*($arcologies[0].FSGenderRadicalist/200))>> /*20*/
	<<elseif $args[0].dick > 0>>
		<<set $beauty += $args[0].dick*(1+($arcologies[0].FSGenderRadicalist/100))>> /*10*/
	<</if>>
	<<if $args[0].scrotum > 0>>
		<<if $args[0].balls > 100>>
			<<set $beauty += Math.trunc(60+($args[0].balls/25))>>
		<<elseif $args[0].balls > 60>>
			<<set $beauty += 45+($args[0].balls*($arcologies[0].FSGenderRadicalist/800))>> /*57.5*/
		<<elseif $args[0].balls > 10>>
			<<set $beauty += 15+($args[0].balls*($arcologies[0].FSGenderRadicalist/400))>> /*30*/
		<<else>>
			<<set $beauty += $args[0].balls*(1+($arcologies[0].FSGenderRadicalist/200))>> /*15*/
		<</if>>
	<</if>>
<<else>>
	<<set $beauty -= (2*$args[0].dick) + ($args[0].balls)>>
<</if>>

/* bonus for dick focused genderrads */
<<if ($arcologies[0].FSGenderRadicalistLawFuta == 1)>>
<<elseif ($arcologies[0].FSGenderRadicalistLawFuta == 2)>> /* erection! */
<<elseif ($arcologies[0].FSGenderRadicalistLawFuta == 3)>>
<</if>>

<<if ($arcologies[0].FSGenderRadicalist > 20 && $arcologies[0].FSGenderRadicalistLawFuta != 3) || ($arcologies[0].FSSlimnessEnthusiast > 20)>>
	<<if $args[0].hips < 0>>
	<<set $beauty += Math.abs($args[0].hips)>>
	<</if>>
<</if>>
<<if $arcologies[0].FSRestart != "unset">>
	<<if $args[0].balls > 0>>
	<<set $beauty -= $args[0].balls*(1+($arcologies[0].FSRestart/100))>>
	<</if>>
<</if>>
<<if $arcologies[0].FSGenderRadicalist != "unset">>
	<<if $args[0].preg > 5 && $arcologies[0].FSRepopulationFocus == "unset" && $arcologies[0].FSRestart == "unset">>
	<<set $beauty = ($beauty*0.7)>>
	<</if>>
<<elseif $arcologies[0].FSGenderFundamentalist != "unset">>
	<<if $args[0].shoulders > $args[0].hips>>
	<<if $args[0].boobs <= 2000*($args[0].shoulders-$args[0].hips)>>
		<<set $beauty -= ($args[0].shoulders-$args[0].hips)*(1+($arcologies[0].FSGenderFundamentalist/200))>>
	<</if>>
	<</if>>
<<else>>
	<<if $args[0].shoulders > $args[0].hips>>
	<<if $args[0].boobs <= 2000*($args[0].shoulders-$args[0].hips)>>
		<<set $beauty -= $args[0].shoulders-$args[0].hips>>
	<</if>>
	<</if>>
	<<if $args[0].scrotum > 4>>
		<<set $beauty += $args[0].balls - 4>>
	<</if>>
	<<if $args[0].preg > 10 && $arcologies[0].FSRepopulationFocus == "unset" && $arcologies[0].FSRestart == "unset">>
		<<set $beauty = ($beauty*0.8)>>
	<</if>>
<</if>>

<<if $arcologies[0].FSPhysicalIdealist != "unset">>
<<if $args[0].muscles > 30>>
	<<set $beauty += ($args[0].muscles*($arcologies[0].FSPhysicalIdealist/40))>>
<</if>>
<</if>>
<<if $arcologies[0].FSGenderRadicalistLawFuta != 0>>
<<if $arcologies[0].FSGenderRadicalistLawFuta == 1>>
	<<if $args[0].dick > 0>>
	<<if $args[0].vagina > -1>>
		<<set $beauty += 2*$args[0].dick>>
	<</if>>
	<</if>>
<<elseif $arcologies[0].FSGenderRadicalistLawFuta == 2>>
	<<if $args[0].dick > 0>>
	<<if $args[0].balls > 0>>
		<<set $beauty += $args[0].dick+$args[0].balls>>
	<</if>>
	<</if>>
<<else>>
	<<if $args[0].butt >= 5>>
	<<if $args[0].anus >= 2>>
	<<if $args[0].hips >= 1>>
	<<if $args[0].analSkill > 60>>
		<<set $beauty += ($args[0].butt-5) + 2*($args[0].anus-2) + 4*($args[0].hips-1)>>
	<</if>>
	<</if>>
	<</if>>
	<</if>>
<</if>>
<</if>>


/* boobs content */

<<if ($arcologies[0].FSTransformationFetishist > 20) || ($arcologies[0].FSAssetExpansionist > 20)>>
	<<if $args[0].boobs <= 500>>
	<<set $beauty += (0.02*($args[0].boobs-250))>>
	<<elseif $args[0].boobs <= 1500>>
	<<set $beauty += 5+(0.015*($args[0].boobs-500))>>
	<<elseif $args[0].boobs <= 3000>>
	<<set $beauty += 20+(0.01*($args[0].boobs-1500))>>
	<<else>>
	<<set $beauty += 50+(0.005*($args[0].boobs-3000))>>
	<</if>>
	<<if $args[0].butt <= 2>>
	<<set $beauty += (2*($args[0].butt-1))>>
	<<elseif $args[0].butt <= 4>>
	<<set $beauty += 2+(1.5*($args[0].butt-2))>>
	<<elseif $args[0].butt <= 10>>
	<<set $beauty += 5+(1*($args[0].butt-4))>>
	<<else>>
	<<set $beauty += 7+(.5*($args[0].butt-5))>>
	<</if>>
<<elseif ($arcologies[0].FSSlimnessEnthusiast > 20)>>
	<<if $args[0].boobs <= 500>>
	<<set $beauty += (0.05*($args[0].boobs))>>
	<<elseif $args[0].boobs <= 1000>>
	<<set $beauty += 25+(0.01*($args[0].boobs-500))>>
	<<elseif $args[0].boobs <= 3000>>
	<<set $beauty += 30>>
	<<else>>
	<<set $beauty += 30-(0.005*($args[0].boobs-3000))>>
	<</if>>
	<<if $args[0].butt <= 3>>
	<<set $beauty += (3*($args[0].butt-1))>>
	<<elseif $args[0].butt <= 5>>
	<<set $beauty += 9>>
	<<else>>
	<<set $beauty += 9-(1*($args[0].butt-5))>>
	<</if>>
<<else>>
	<<if $args[0].boobs <= 1200>>
	<<set $beauty += (0.02*($args[0].boobs-200))>>
	<<elseif $args[0].boobs <= 2400>>
	<<set $beauty += 20+(0.01*($args[0].boobs-1200))>>
	<<elseif $args[0].boobs <= 3600>>
	<<set $beauty += 32+(0.005*($args[0].boobs-2400))>>
	<<else>>
	<<set $beauty += 38>>
	<</if>>
	<<if $args[0].butt <= 2>>
	<<set $beauty += (2*($args[0].butt-1))>>
	<<elseif $args[0].butt <= 4>>
	<<set $beauty += 2+(1.5*($args[0].butt-2))>>
	<<elseif $args[0].butt <= 8>>
	<<set $beauty += 2+(1.5*($args[0].butt-2))>>
	<<else>>
	<<set $beauty += 9>>
	<</if>>
<</if>>



/* other */

<<if ($arcologies[0].FSTransformationFetishist > 20)>>
	<<if $args[0].hips >= 3>>
		<<set $beauty += 1>>
	<</if>>
<</if>>

<<if $args[0].hips < -1>>
	<<if $args[0].butt > 2>>
	<<if $arcologies[0].FSTransformationFetishist == "unset">>
		<<set $beauty += 2-$args[0].butt>>
	<<else>>
		<<set $beauty += 1>>
	<</if>>
	<<else>>
	<<set $beauty += 1>>
	<</if>>
<<elseif $args[0].hips < 0>>
	<<if $args[0].butt > 4>>
	<<if $arcologies[0].FSTransformationFetishist == "unset">>
		<<set $beauty += 4-$args[0].butt>>
	<<else>>
		<<set $beauty += 1>>
	<</if>>
	<<else>>
	<<set $beauty += 1>>
	<</if>>
<<elseif $args[0].hips > 2>>
	<<if $args[0].butt <= 8>>
	<<set $beauty += $args[0].butt-8>>
	<<else>>
	<<set $beauty += 1>>
	<</if>>
<<elseif $args[0].hips > 1>>
	<<if $args[0].butt <= 3>>
	<<set $beauty += $args[0].butt-4>>
	<<else>>
	<<set $beauty += 1>>
	<</if>>
<<elseif $args[0].hips > 0>>
	<<if $args[0].butt > 8>>
	<<if $arcologies[0].FSTransformationFetishist == "unset">>
		<<set $beauty += 8-$args[0].butt>>
	<<else>>
		<<set $beauty += 1>>
	<</if>>
	<<elseif $args[0].butt <= 2>>
	<<set $beauty += $args[0].butt-3>>
	<<else>>
	<<set $beauty += 1>>
	<</if>>
<<else>>
	<<if $args[0].butt > 6>>
	<<if $arcologies[0].FSTransformationFetishist == "unset">>
		<<set $beauty += 6-$args[0].butt>>
	<<else>>
		<<set $beauty += 1>>
	<</if>>
	<<elseif $args[0].butt <= 1>>
	<<set $beauty += $args[0].butt-2>>
	<<else>>
	<<set $beauty += 1>>
	<</if>>
<</if>>







<<if $args[0].boobs > 250>>
<<if $args[0].boobShape == "perky">>
	<<set $beauty += 1>>
<<elseif $args[0].boobShape == "torpedo-shaped">>
	<<set $beauty += 1>>
<<elseif $args[0].boobShape == "downward-facing">>
	<<set $beauty -= 1>>
<<elseif $args[0].boobShape == "saggy">>
	<<set $beauty -= 1>>
<</if>>
<</if>>

<<if $args[0].nipples == "huge">>
	<<set $beauty += 2>>
<<elseif $args[0].nipples == "inverted">>
	<<set $beauty += 1>>
<<elseif $args[0].nipples == "puffy">>
	<<set $beauty += 1>>
<<elseif $args[0].nipples == "tiny">>
	<<set $beauty -= 1>>
<</if>>

<<if $args[0].anus > 3>>
	<<set $beauty -= 1>>
<</if>>
<<if $args[0].vagina > 3>>
	<<set $beauty -= 1>>
<</if>>

<<if ($args[0].hips > 2)>>
	<<if ($args[0].weight < -10)>>
		<<set $beauty -= Math.abs($args[0].weight)/10>>
	<</if>>
<<elseif ($args[0].hips > 1)>>
	<<if ($args[0].weight > 95)>>
		<<set $beauty -= Math.abs($args[0].weight)/15>>
	<<elseif ($args[0].weight < -30)>>
		<<set $beauty -= Math.abs($args[0].weight)/10>>
	<</if>>
<<elseif ($args[0].hips < -1)>>
	<<if ($args[0].weight < -95) || ($args[0].weight > 30)>>
		<<set $beauty -= Math.abs($args[0].weight)/10>>
	<</if>>
<<else>>
	<<if Math.abs($args[0].weight) > 30>>
		<<set $beauty -= Math.abs($args[0].weight)/10>>
	<</if>>
<</if>>

<<if $args[0].vagina == 10>>
	<<set $beauty -= 10>>
<</if>>

<<if $args[0].customDesc == "She has a massive scar down her front from where her body exploded under the pressure of her bloated womb.">> 
	<<if $arcologies[0].FSDegradationist != "unset">>
		<<set $beauty += 15>>
	<<else>>
		<<set $beauty -= 15>>
	<</if>>
<</if>>

<<if $arcologies[0].FSRepopulationFocus > 40>>
<<if $args[0].preg > 30>>
	<<if $args[0].pregType >= 20>>
		<<set $beauty += 10>>
	<<elseif $args[0].pregType >= 10>>
		<<set $beauty += 9>>
	<<else>>
		<<set $beauty += 8>>
	<</if>>
<<elseif $args[0].preg > 20>>
	<<if $args[0].pregType >= 20>>
		<<set $beauty += 6>>
	<<elseif $args[0].pregType >= 10>>
		<<set $beauty += 5>>
	<<else>>
		<<set $beauty += 4>>
	<</if>>
<<elseif $args[0].preg > 10>>
	<<if $args[0].pregType >= 20>>
		<<set $beauty += 3>>
	<<elseif $args[0].pregType >= 10>>
		<<set $beauty += 2>>
	<<else>>
		<<set $beauty += 1>>
	<</if>>
<<else>>
	<<set $beauty -= 3>>
<</if>>
<<if $args[0].births > 50>>
	<<set $beauty += 50>>
<<else>>
	<<set $beauty += $args[0].births>>
<</if>>
<<elseif $arcologies[0].FSRestart > 40>>
<<if $args[0].breedingMark == 1>>
	<<if $args[0].preg > 5 && $args[0].pregSource == -1>>
		<<set $beauty += 5>>
	<</if>>
<<else>>
<<if $args[0].preg > 30>>
	<<if $args[0].pregType >= 20>>
		<<set $beauty -= 50>>
	<<elseif $args[0].pregType >= 10>>
		<<set $beauty -= 40>>
	<<else>>
		<<set $beauty -= 30>>
	<</if>>
<<elseif $args[0].preg > 20>>
	<<if $args[0].pregType >= 20>>
		<<set $beauty -= 40>>
	<<elseif $args[0].pregType >= 10>>
		<<set $beauty -= 30>>
	<<else>>
		<<set $beauty -= 20>>
	<</if>>
<<elseif $args[0].preg > 10>>
	<<if $args[0].pregType >= 20>>
		<<set $beauty -= 30>>
	<<elseif $args[0].pregType >= 10>>
		<<set $beauty -= 20>>
	<<else>>
		<<set $beauty -= 10>>
	<</if>>
<<elseif $args[0].preg == -2>>
	<<set $beauty += 5>>
<<else>>
	<<set $beauty += 3>>
<</if>>
<<if $args[0].births > 50>>
	<<set $beauty -= 50>>
<<else>>
	<<set $beauty -= $args[0].births>>
<</if>>
<</if>>
<</if>>

<<if $args[0].bellyImplant > 1000>>
	<<if $arcologies[0].FSTransformationFetishist > 20>>
		<<set $beauty += Math.trunc($args[0].bellyImplant/10)>>
	<<elseif $arcologies[0].FSRepopulationFocus > 60>>
		<<if ($args[0].ovaries == 0 && $args[0].mpreg == 0) || $args[0].preg < -1>>
			<<set $beauty += 2>>
		<</if>>
	<<else>>
		<<set $beauty = ($beauty*0.9)>>
	<</if>>
<</if>>

<<if ($args[0].preg > 10) || ($args[0].bellyImplant >= 4000)>>
	<<set $pregYes += 1>>
<<elseif ($args[0].pregType < 10) && ($args[0].preg < 1) && ($args[0].weight < 2) && ($args[0].bellyImplant == 0) && ($args[0].inflation == 0)>>
	<<set $pregNo -= 1>>
<</if>>

<<if $args[0].bellySag > 0>>
<<if $args[0].preg < 10 && $args[0].inflation == 0 && $args[0].bellyImplant < 2000>>
<<if $arcologies[0].FSRepopulationFocus != "unset">>
<<else>>
	<<set $beauty -= 10>>
<</if>>
<</if>>
<</if>>

<<if $args[0].pubertyXX == 1>>
	<<set $beauty += 1>>
<</if>>
<<if $args[0].pubertyXY == 0 && $args[0].physicalAge > $potencyAge && $args[0].balls > 0>>
	<<set $beauty += 1>>
<</if>>

<<if ($args[0].butt > 4) && ($args[0].boobs > 800)>>
	<<if $arcologies[0].FSSlimnessEnthusiast == "unset">>
	<<set $beauty += 1>>
	<</if>>
	<<set $stacked += 1>>
	<<if $arcologies[0].FSAssetExpansionist != "unset">>
	<<set $beauty += ($arcologies[0].FSAssetExpansionist/20)>>
	<<if canTalk($args[0])>>
	<<if $args[0].voice == 3>>
		<<set $beauty += ($arcologies[0].FSAssetExpansionist/40)>>
	<</if>>
	<</if>>
	<</if>>
<</if>>

<<if ($args[0].boobs < 500) && ($args[0].butt < 3) && ($args[0].weight <= 10)>>
	<<if ($args[0].muscles <= 30) && $arcologies[0].FSPhysicalIdealist == "unset">>
		<<set $beauty += 3>>
		<<set $slim += 1>>
		<<if $arcologies[0].FSSlimnessEnthusiast > 20>>
		<<set $beauty += ($arcologies[0].FSSlimnessEnthusiast/20)>>
		<<if canTalk($args[0])>>
		<<if $args[0].voice == 3>>
			<<set $beauty += ($arcologies[0].FSSlimnessEnthusiast/40)>>
		<</if>>
		<</if>>
		<</if>>
	<<elseif $arcologies[0].FSPhysicalIdealist != "unset">> /* no muscle malus for muscle loving societies */
		<<set $beauty += 3>>
		<<set $slim += 1>>
		<<if $arcologies[0].FSSlimnessEnthusiast > 20>>
		<<set $beauty += ($arcologies[0].FSSlimnessEnthusiast/20)>>
		<<if canTalk($args[0])>>
		<<if $args[0].voice == 3>>
			<<set $beauty += ($arcologies[0].FSSlimnessEnthusiast/40)>>
		<</if>>
		<</if>>
		<</if>>
	<</if>>
<</if>>

<<if $arcologies[0].FSSlimnessEnthusiastLaw == 1>>
	<<if ($args[0].boobs < 300) && ($args[0].butt <= 1) && ($args[0].weight <= 10) && ($args[0].waist <= 10)>>
		<<if $arcologies[0].FSPhysicalIdealist != "unset">>
			<<set _slimPass = 1>>
		<<elseif $arcologies[0].FSPhysicalIdealist == "unset" && $args[0].muscles <= 30>>
			<<set _slimPass = 1>>
		<<else>>
			<<set _slimPass = 0>>
		<</if>>
		<<if _slimPass == 1>>
			<<set $beauty += ($arcologies[0].FSSlimnessEnthusiast/20)>>
		<<else>>
			<<set $beauty -= ($arcologies[0].FSSlimnessEnthusiast/20)>>
		<</if>>
	<</if>>
<</if>>

<<if ($args[0].boobsImplant == 0) && ($args[0].buttImplant == 0) && ($args[0].waist >= -95) && ($args[0].lipsImplant == 0) && ($args[0].faceImplant < 2) && ($args[0].bellyImplant == 0)>>
	<<set $pure += 1>>
	<<if $arcologies[0].FSBodyPurist != "unset">>
	<<set $beauty += ($arcologies[0].FSBodyPurist/20)>>
	<</if>>
	<<if $arcologies[0].FSTransformationFetishist == "unset">>
	<<set $beauty += 2>>
	<</if>>
<<else>>
	<<set $implanted += 1>>
	<<if $arcologies[0].FSTransformationFetishist != "unset">>
	<<set $beauty += ($arcologies[0].FSTransformationFetishist/40)>>
	<</if>>
<</if>>

<<if canTalk($args[0]) == false>>
	<<set $beauty -= 2>>
<<else>>
	<<if ($args[0].accent >= 3)>>
	<<set $beauty -= 1>>
	<<elseif ($args[0].accent == 1)>>
	<<set $beauty += 1>>
	<</if>>
<</if>>

<<if ($args[0].physicalAge < 13)>>
<<elseif $args[0].underArmHStyle == "neat">>
<<elseif $args[0].underArmHStyle == "hairless">>
	<<set $beauty += 1>>
<<elseif ($args[0].underArmHStyle == "waxed")>>
	<<set $beauty += 1>>
<<elseif $args[0].underArmHStyle == "shaved">>
	<<set $beauty += 1>> 
<<elseif $args[0].underArmHStyle == "bushy">>
	<<set $beauty -= 1>>
<</if>>

<<if $args[0].amp == 0>>
<<elseif $args[0].amp == 1>>
	<<set $beauty -= 3>>
<<elseif $args[0].amp == -3>>
<<elseif $args[0].amp == -5>>
<<else>>
	<<set $beauty -= 2>>
<</if>>

<<if $arcologies[0].FSGenderFundamentalistLawBeauty + $arcologies[0].FSGenderRadicalistLawBeauty > 0>>
	<<if (Math.abs($args[0].weight) <= 30)>>
		<<if $arcologies[0].FSPhysicalIdealist != "unset">>
			<<set _genderLawPass = 1>>
		<<elseif $arcologies[0].FSPhysicalIdealist == "unset" && $args[0].muscles <= 30>>
			<<set _genderLawPass = 1>>
		<<else>>
			<<set _genderLawPass = 0>>
		<</if>>
		<<if _genderLawPass == 1>>
			<<if $arcologies[0].FSAssetExpansionist != "unset">>
				<<if $args[0].boobs >= 500 && $args[0].boobs <= 1600 && $args[0].butt >= 3 && $args[0].butt <= 6>>
					<<set _genderLawPass = 1>>
				<<else>>
					<<set _genderLawPass = 0>>
				<</if>>
			<<elseif $args[0].boobs >= 500 && $args[0].boobs <= 800 && $args[0].butt >= 3 && $args[0].butt <= 4>>
				<<set _genderLawPass = 1>>
			<<else>>
				<<set _genderLawPass = 0>>
			<</if>>
		<</if>>
	<<else>>
		<<set _genderLawPass = 0>>
	<</if>>
	<<if _genderLawPass == 1>>
		<<set $beauty += 3>>
	<</if>>
<</if>>

<<if $arcologies[0].FSChattelReligionistCreed == 1>>
<<if $nicaeaAssignment == $args[0].assignment>>
	<<set $beauty += $nicaeaPower*2>>
<</if>>
<</if>>

<<if $args[0].prestige > 0>>
	<<set $beauty = $beauty+($beauty*$args[0].prestige*0.1)>>
<</if>>

<<if $args[0].breedingMark == 1>>
	<<set $beauty = Math.trunc($beauty*2)>>
<</if>>

<<if $beauty < 1>>
	<<set $beauty = 1>>
<<else>>
	<<set $beauty = Math.trunc($beauty*0.5)>>
<</if>>

<</widget>>