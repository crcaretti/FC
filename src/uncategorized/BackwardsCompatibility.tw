:: Backwards Compatibility [nobr]

<<set $nextButton = "Continue", $nextLink = "Main", $returnTo = "Main">>

<<if $releaseID == 1021 || $releaseID == 1020 || $releaseID == 1019 || $releaseID == 2022>>
	<<set $releaseID = 1022>>
<</if>>

<<if Array.isArray($nationalities)>>
	<<set $nationalities = weightedArray2HashMap($nationalities)>>
<</if>>

<<if def $youngCareers>>
	<<unset $youngCareers, $educatedCareers, $uneducatedCareers, $gratefulCareers, $menialCareers, $entertainmentCareers, $whoreCareers, $HGCareers, $madamCareers, $DJCareers, $bodyguardCareers, $wardenessCareers, $nurseCareers, $attendantCareers, $milkmaidCareers, $stewardessCareers, $schoolteacherCareers>>

	<<unset $whiteNationalities, $asianNationalities, $latinaNationalities, $middleeasternNationalities, $blackNationalities, $indoaryanNationalities, $pacificislanderNationalities, $malayNationalities, $amerindianNationalities, $southerneuropeanNationalities, $semiticNationalities>>

	<<unset $whiteAmericanSlaveNames, $africanAmericanSlaveNames, $asianAmericanSlaveNames, $latinaSlaveNames, $russianSlaveNames, $egyptianSlaveNames, $brazilianSlaveNames, $chineseSlaveNames, $koreanSlaveNames, $indianSlaveNames, $indonesianSlaveNames, $bangladeshiSlaveNames, $japaneseSlaveNames, $nigerianSlaveNames, $pakistaniSlaveNames, $mexicanSlaveNames, $filipinaSlaveNames, $ethiopianSlaveNames, $germanSlaveNames, $saudiSlaveNames, $turkishSlaveNames, $colombianSlaveNames, $argentinianSlaveNames, $vietnameseSlaveNames, $iranianSlaveNames, $congoleseSlaveNames, $frenchSlaveNames, $thaiSlaveNames, $britishSlaveNames, $italianSlaveNames, $spanishSlaveNames, $kenyanSlaveNames, $ukrainianSlaveNames, $canadianSlaveNames, $peruvianSlaveNames, $venezuelanSlaveNames, $irishSlaveNames, $icelandicSlaveNames, $finnishSlaveNames, $newZealanderSlaveNames, $polishSlaveNames, $greekSlaveNames, $israeliSlaveNames, $armenianSlaveNames, $moroccanSlaveNames, $romanianSlaveNames, $swedishSlaveNames, $lithuanianSlaveNames, $bolivianSlaveNames, $haitianSlaveNames, $cubanSlaveNames, $whiteSouthAfricanSlaveNames, $blackSouthAfricanSlaveNames, $chileanSlaveNames, $belgianSlaveNames, $danishSlaveNames, $norwegianSlaveNames, $hungarianSlaveNames, $estonianSlaveNames, $slovakSlaveNames, $kazakhSlaveNames, $zimbabweanSlaveNames, $ugandanSlaveNames, $tanzanianSlaveNames, $dutchSlaveNames, $austrianSlaveNames, $swissSlaveNames, $puertoRicanSlaveNames, $czechSlaveNames, $portugueseSlaveNames, $jamaicanSlaveNames, $malaysianSlaveNames, $guatemalanSlaveNames, $ghananSlaveNames, $serbianSlaveNames, $australianSlaveNames, $burmeseSlaveNames, $algerianSlaveNames, $sudaneseSlaveNames, $iraqiSlaveNames, $uzbekSlaveNames, $nepaleseSlaveNames, $afghanSlaveNames, $yemeniSlaveNames, $lebaneseSlaveNames, $tunisianSlaveNames, $emiratiSlaveNames, $libyanSlaveNames, $jordanianSlaveNames, $omaniSlaveNames, $malianSlaveNames, $sammarineseSlaveNames, $marshalleseSlaveNames, $syrianSlaveNames, $bermudianSlaveNames, $uruguayanSlaveNames, $monegasqueSlaveNames, $montenegrinSlaveNames, $cambodianSlaveNames, $cameroonianSlaveNames, $gaboneseSlaveNames, $djiboutianSlaveNames, $greenlandicSlaveNames, $tuvaluanSlaveNames, $zambianSlaveNames, $albanianSlaveNames, $bruneianSlaveNames, $singaporeanSlaveNames>>

	<<unset $cowSlaveNames, $chattelReligionistSlaveNames, $romanSlaveNames, $aztecSlaveNames, $ancientEgyptianSlaveNames, $edoSlaveNames>>

	<<unset $ArcologyNamesSupremacistWhite, $ArcologyNamesSupremacistAsian, $ArcologyNamesSupremacistLatina, $ArcologyNamesSupremacistMiddleEastern, $ArcologyNamesSupremacistBlack, $ArcologyNamesSupremacistIndoAryan, $ArcologyNamesSupremacistPacificIslander, $ArcologyNamesSupremacistMalay, $ArcologyNamesSupremacistAmerindian, $ArcologyNamesSupremacistSouthernEuropean, $ArcologyNamesSupremacistSemitic, $ArcologyNamesSupremacistMixedRace>>

	<<unset $ArcologyNamesSubjugationistWhite, $ArcologyNamesSubjugationistAsian, $ArcologyNamesSubjugationistLatina, $ArcologyNamesSubjugationistMiddleEastern, $ArcologyNamesSubjugationistBlack, $ArcologyNamesSubjugationistIndoAryan, $ArcologyNamesSubjugationistPacificIslander, $ArcologyNamesSubjugationistMalay, $ArcologyNamesSubjugationistAmerindian, $ArcologyNamesSubjugationistSouthernEuropean, $ArcologyNamesSubjugationistSemitic, $ArcologyNamesSubjugationistMixedRace>>

	<<unset $ArcologyNamesGenderRadicalist, $ArcologyNamesGenderFundamentalist, $ArcologyNamesPaternalist, $ArcologyNamesDegradationist, $ArcologyNamesBodyPurist, $ArcologyNamesTransformationFetishist, $ArcologyNamesYouthPreferentialist, $ArcologyNamesMaturityPreferentialist, $ArcologyNamesSlimnessEnthusiast, $ArcologyNamesAssetExpansionist, $ArcologyNamesPastoralist, $ArcologyNamesPhysicalIdealist, $ArcologyNamesChattelReligionist, $ArcologyNamesRomanRevivalist, $ArcologyNamesAztecRevivalist, $ArcologyNamesEgyptianRevivalist, $ArcologyNamesEdoRevivalist, $ArcologyNamesArabianRevivalist, $ArcologyNamesChineseRevivalist>>

	/* pregmod-exclusive variables below */
	<<unset $veryYoungCareers, $recruiterCareers>>
	<<unset $northamericaNationalities, $southamericaNationalities, $europeNationalities, $asiaNationalities, $middleeastNationalities, $africaNationalities, $australiaNationalities>>
	<<unset $belarusianSlaveNames, $dominicanSlaveNames, $scottishSlaveNames>>
	<<unset $ArcologyNamesEugenics, $ArcologyNamesRepopulationist, $ArcologyNamesHedonisticDecadence>>
	<<unset $drugs, $harshCollars, $shoes, $bellyAccessories, $vaginalAccessories, $dickAccessories, $buttplugs>>
<</if>>

<<if def $servantMilkersJobs>>
	<<unset $servantMilkersJobs>>
<</if>>

<<if def $fakeBellies>>
	<<unset $fakeBellies>>
<</if>>

<<if def $badWords>>
	<<unset $badWords>>
<</if>>

<<if def $badNames>>
	<<unset $badNames>>
<</if>>

<<if def $origin || def $origins>>
	<<unset $origin, $origins>>
<</if>>

<<if def $hare1>>
	<<unset $hare1, $hare2, $hare3, $hareSpeed, $hareSpeed1, $hareSpeed2, $hareSpeed3, $origin1, $origin2, $origin3, $LurcherSpeed>>
<</if>>

<<if def $basenationalities>>
	<<unset $basenationalities>>
<</if>>

<<if ndef $PC.name>>
<<if def $PCName>>
	<<set $PC.name = $PCName>>
	<<unset $PCName>>
<</if>>
<</if>>
<<if ndef $PC.surname>>
	<<set $PC.surname = 0>>
<</if>>
<<if ndef $bodyguardTrains>>
	<<set $bodyguardTrains = 1>>
<</if>>
<<if ndef $summaryStats>>
	<<set $summaryStats = 0>>
<</if>>
<<if ndef $positionMainLinks>>
	<<set $positionMainLinks = -1>>
<</if>>
<<if ndef $seeImages>>
	<<set $seeImages = 0>>
<</if>>
<<if ndef $imageChoice>>
	<<set $imageChoice = 0>>
<</if>>
<<if ndef $seeMainFetishes>>
	<<set $seeMainFetishes = 0>>
<</if>>
<<if ndef $seeSummaryImages>>
	<<set $seeSummaryImages = 1>>
<</if>>
<<if ndef $seeReportImages>>
	<<set $seeReportImages = 1>>
<</if>>
<<if ndef $universalRulesBirthing>>
	<<set $universalRulesBirthing = 0>>
<</if>>
<<if ndef $HGSeverity>>
	<<set $HGSeverity = 0>>
<</if>>
<<if def $recruiters>>
	<<unset $recruiters>>
<</if>>
<<if ndef $foodCost>>
	<<set $foodCost = 25>>
<</if>>
<<if ndef $fixedNationality>>
	<<set $fixedNationality = 0>>
<</if>>
<<if ndef $fixedRace>>
	<<set $fixedRace = 0>>
<</if>>
<<if ndef $RaidingMercenaries>>
	<<set $RaidingMercenaries = 0>>
<</if>>
<<if ndef $raided>>
	<<set $raided = 0>>
<</if>>
<<if ndef $slaveOrphanageTotal>>
	<<set $slaveOrphanageTotal = 0>>
<</if>>
<<if ndef $citizenOrphanageTotal>>
	<<set $citizenOrphanageTotal = 0>>
<</if>>
<<if ndef $privateOrphanageTotal>>
	<<set $privateOrphanageTotal = 0>>
<</if>>
<<if ndef $peacekeepers>>
	<<set $peacekeepers = 0>>
<</if>>
<<if def $modestClothes>>
	<<unset $modestClothes>>
<</if>>
<<if ndef $completedOrgans>>
	<<set $completedOrgans = []>>
<</if>>
<<if def $eventSlaves>>
	<<unset $eventSlaves>>
<</if>>
<<if def $place>>
	<<unset $place>>
<</if>>
<<if def $assayedSlave || def $assayedSlaveAvailable || def $assayType>>
	<<unset $assayedSlave, $assayedSlaveAvailable, $assayType>>
<</if>>
<<if def $RERepressedAnalVirginSub || def $REBoobCollisionSub || def $REIfYouEnjoyItSub || def $RESadisticDescriptionSub || def $REShowerForceSub>>
	<<unset $RERepressedAnalVirginSub, $REBoobCollisionSub, $REIfYouEnjoyItSub, $RESadisticDescriptionSub, $REShowerForceSub>>
<</if>>
<<if def $unmodded || def $modded || def $XX || def $XY || def $old || def $young || def $pregYes || def $pregNo || def $implanted || def $slimPass || def $slim || def $stacked>>
	<<unset $unmodded, $modded, $XX, $XY, $old, $young, $pregYes, $pregNo, $implanted, $slimPass, $slim, $stacked>>
<</if>>
<<if def $recruiterMother || def $recruiterSister>>
	<<unset $recruiterMother, $recruiterSister>>
<</if>>
<<if def $relations>>
	<<unset $relations>>
<</if>>
<<if def $milfSlave>>
	<<unset $milfSlave>>
<</if>>
<<if def $vignettes>>
	<<unset $vignettes>>
<</if>>
<<if def $piercingLocation>>
	<<unset $piercingLocation>>
<</if>>
<<if def $target1 || def $target2 || def $target3>>
	<<unset $target1, $target2, $target3>>
<</if>>
<<if def $oralCount || def $vaginalCount || def $analCount>>
	<<unset $oralCount, $vaginalCount, $analCount>>
<</if>>
<<if def $fighterOne || def $fighterTwo>>
	<<unset $fighterOne, $fighterTwo>>
<</if>>
<<if def $fighterOneDeadliness || def $fighterTwoDeadliness>>
	<<unset $fighterOneDeadliness, $fighterTwoDeadliness>>
<</if>>
<<if def $adopted>>
	<<unset $adopted>>
<</if>>
<<if def $fetishChangeChance>>
	<<unset $fetishChangeChance>>
<</if>>

/* pregmod stuff */

<<if ndef $PC.intelligence>>
	<<set $PC.intelligence = 3>>
<</if>>
<<if ndef $PC.face>>
	<<set $PC.face = 100>>
<</if>>
<<if ndef $PC.actualAge>>
	<<if $PC.age == 1>>
		<<set $PC.actualAge = 20>>
	<<elseif $PC.age == 2>>
		<<set $PC.actualAge = 35>>
	<<elseif $PC.age == 3>>
		<<set $PC.actualAge = 50>>
	<</if>>
<</if>>
<<if ndef $PC.visualAge>>
	<<set $PC.visualAge = $PC.actualAge>>
<</if>>
<<if ndef $PC.physicalAge>>
	<<set $PC.physicalAge = $PC.actualAge>>
<</if>>
<<if ndef $PC.birthWeek>>
	<<set $PC.birthWeek = 0>>
<</if>>
<<if ndef $PC.markings>>
	<<set $PC.markings = "none">>
<</if>>
<<if ndef $PC.mpreg>> /* for <<KnockMeUp $PC>> */
	<<set $PC.mpreg = 0>>
<</if>>
<<if ndef $PC.slavesKnockedUp>>
	<<set $PC.slavesKnockedUp = 0>>
<</if>>
<<if ndef $PC.slavesFathered>>
	<<set $PC.slavesFathered = 0>>
<</if>>
<<if ndef $PC.reservedChildren>>
	<<set $PC.reservedChildren = 0>>
<</if>>
<<if ndef $PC.pronoun>>
	<<if $PC.title == 1>>
		<<set $PC.pronoun = "he", $PC.possessive = "his", $PC.object = "him">>
	<<else>>
		<<set $PC.pronoun = "she", $PC.possessive = "her", $PC.object = "her">>
	<</if>>
<</if>>
<<if ndef $PC.pregKnown>>
	<<if $PC.preg > 0>>
		<<set $PC.pregKnown = 1>>
	<<else>>
		<<set $PC.pregKnown = 0>>
	<</if>>
<</if>>
<<if ndef $PC.pregWeek>>
	<<if $PC.preg > 0>>
		<<set $PC.pregWeek = $PC.preg>>
	<<else>>
		<<set $PC.pregWeek = 0>>
	<</if>>
<</if>>
<<if ndef $PC.pregType>>
	<<if $PC.preg > 0>>
		<<set $PC.pregType = 1>>
	<<else>>
		<<set $PC.pregType = 0>>
	<</if>>
<</if>>
<<if ndef $PC.belly>>
	<<if $PC.preg > 0>>
		<<set $PC.belly = getPregBellySize($PC)>>
	<<else>>
		<<set $PC.belly = 0>>
	<</if>>
<</if>>
<<if ndef $PC.fertDrugs>>
	<<set $PC.fertDrugs = 0>>
<</if>>
<<if ndef $PC.forcedFertDrugs>>
	<<set $PC.forcedFertDrugs = 0>>
<</if>>
<<if ndef $PC.skin>>
	<<set $PC.skin = "white">>
<</if>>
<<if ndef $PC.origSkin>>
	<<set $PC.origSkin = $PC.skin>>
<</if>>
<<if ndef $PC.eyeColor>>
	<<set $PC.eyeColor = "blue">>
<</if>>
<<if ndef $PC.origEye>>
	<<set $PC.origEye = $PC.eyeColor>>
<</if>>
<<if ndef $PC.race>>
	<<set $PC.race = "white">>
<</if>>
<<if ndef $PC.origRace>>
	<<set $PC.origRace = $PC.race>>
<</if>>
<<if ndef $PC.hColor>>
	<<set $PC.hColor = "blonde">>
<</if>>
<<if ndef $PC.origHColor>>
	<<set $PC.origHColor = $PC.hColor>>
<</if>>
<<if ndef $PC.nationality>>
	<<set $PC.nationality = "Stateless">>
<</if>>
<<if ndef $PC.ovaryAge>>
	<<set $PC.ovaryAge = $PC.physicalAge>>
<</if>>
<<if ndef $PC.staminaPills>>
	<<set $PC.staminaPills = 0>>
<</if>>
<<if ndef $PC.degeneracy>>
	<<set $PC.degeneracy = 0>>
<</if>>
<<if ndef $PC.storedCum>>
	<<set $PC.storedCum = 0>>
<</if>>

<<if ndef $universalRulesImmobileSlavesMaintainMuscles>>
	<<set $universalRulesImmobileSlavesMaintainMuscles = 0>>
<</if>>
<<if ndef $surnamesForbidden>>
	<<set $surnamesForbidden = 0>>
<</if>>
<<if ndef $meshImplants>>
	<<set $meshImplants = 0>>
<</if>>
<<if ndef $BasicWeightSMR>>
	<<set $BasicWeightSMR = 0>>
<</if>>
<<if def $BasicTallSMR>>
	<<unset $BasicTallSMR>>
	<<set $BasicHeightSMR = 1>>
<</if>>
<<if def $BasicShortSMR>>
	<<unset $BasicShortSMR>>
	<<set $BasicHeightSMR = -1>>
<</if>>
<<if ndef $BasicHeightSMR>>
	<<set $BasicHeightSMR = 0>>
<</if>>
<<if ndef $AdvancedHeightSMR>>
	<<set $AdvancedHeightSMR = 0>>
<</if>>
<<if ndef $toysBoughtDildos>>
	<<set $toysBoughtDildos = 0>>
<</if>>
<<if ndef $toysBoughtGags>>
	<<set $toysBoughtGags = 0>>
<</if>>
<<if ndef $toysBoughtButtPlugs>>
	<<set $toysBoughtButtPlugs = 0>>
<</if>>
<<if ndef $toysBoughtButtPlugTails>>
	<<set $toysBoughtButtPlugTails = 0>>
<</if>>
<<if ndef $buckets>>
	<<set $buckets = 0>>
<</if>>
<<if ndef $menstruation>>
	<<set $menstruation = 0>>
<</if>>

<<if ndef $FCTVenable>>
	<<set $FCTVenable = 1>>
<</if>>
<<if ndef $FCTVreceiver>>
	<<set $FCTVreceiver = 0>>
<</if>>
<<if ndef $receiverAvailable>>
	<<set $receiverAvailable = 0>>
<</if>>
<<if ndef $FCTVshow>>
	<<set $FCTVshow = 0>>
<</if>>
<<if ndef $FCTVrate>>
	<<set $FCTVrate = 2>>
<</if>>
<<if ndef $FCTVcount>>
	<<set $FCTVcount = 0>>
<</if>>
<<if ndef $lastShow>>
	<<set $lastShow = -1>>
<</if>>
<<if ndef $purchasedSagBGone>>
	<<set $purchasedSagBGone = 0>>
<</if>>
<<if ndef $breederOrphanageTotal>>
	<<set $breederOrphanageTotal = 0>>
<</if>>
<<if ndef $newDescriptions>>
	<<set $newDescriptions = 0>>
<</if>>
<<if ndef $specialSlavesPriceOverride>>
	<<set $specialSlavesPriceOverride = 0>>
<</if>>
<<if ndef $pregAccessibility>>
	<<set $pregAccessibility = 0>>
<</if>>
<<if ndef $dickAccessibility>>
	<<set $dickAccessibility = 0>>
<</if>>
<<if ndef $ballsAccessibility>>
	<<set $ballsAccessibility = 0>>
<</if>>
<<if ndef $buttAccessibility>>
	<<set $buttAccessibility = 0>>
<</if>>
<<if ndef $loliGrow>>
	<<set $loliGrow = 1>>
<</if>>
<<if ndef $ageMode>>
	<<set $ageMode = 0>>
<</if>>
<<if ndef $enema>>
	<<set $enema = 0>>
<</if>>
<<if ndef $medicalEnema>>
	<<set $medicalEnema = 0>>
<</if>>
<<if ndef $dairyPiping>>
	<<set $dairyPiping = 0>>
<</if>>
<<if ndef $inflatedSlavesMilk>>
	<<set $inflatedSlavesMilk = 0>>
<</if>>
<<if ndef $inflatedSlavesCum>>
	<<set $inflatedSlavesCum = 0>>
<</if>>
<<if ndef $milkPipeline>>
	<<set $milkPipeline = 0>>
<</if>>
<<if ndef $cumPipeline>>
	<<set $cumPipeline = 0>>
<</if>>
<<if ndef $burstee>>
	<<set $burstee = 0>>
<</if>>
<<if ndef $slaveDeath>>
	<<set $slaveDeath = 0>>
<</if>>
<<if ndef $clinicInflateBelly>>
	<<set $clinicInflateBelly = 0>>
<</if>>
<<if ndef $playerBred>>
	<<set $playerBred = 0>>
<</if>>
<<if ndef $propOutcome>>
	<<set $propOutcome = 0>>
<</if>>
<<if ndef $EliteSires>>
	<<set $EliteSires = ["moves", "quick", "crazy", "virgin", "futa", "preggo"]>>
<</if>>
<<if ndef $startingPoint>>
	<<set $startingPoint = -1>>
<</if>>
<<if ndef $PhysicalRetirementAgePolicy>>
	<<set $PhysicalRetirementAgePolicy = 0>>
<</if>>
<<if ndef $raped>>
	<<set $raped = -1>>
<</if>>
<<if ndef $familyTesting>>
	<<set $familyTesting = 0>>
<</if>>
<<if ndef $children>>
	<<set $children = []>>
<</if>>
<<if ndef $missingParentID>>
	<<set $missingParentID = -10000>>
<</if>>
<<if def $startingSlaveRelative>>
	<<unset $startingSlaveRelative>>
<</if>>
<<if ndef $mom>>
	<<set $mom = 0>>
<</if>>
<<if ndef $animalParts>>
	<<set $animalParts = 0>>
<</if>>
<<if ndef $showBestiality>>
	<<set $showBestiality = 0>>
<</if>>
<<if ndef $inbreeding>>
	<<set $inbreeding = 1>>
<</if>>
<<if ndef $originOveride>>
	<<set $originOveride = 0>>
<</if>>
<<if ndef $playerAging>>
	<<set $playerAging = 2>>
<</if>>
<<if ndef $pregSpeedControl>>
	<<set $pregSpeedControl = 0>>
<</if>>
<<if ndef $clinicSpeedGestation>>
	<<set $clinicSpeedGestation = 0>>
<</if>>
<<if ndef $playerSurgery>>
	<<set $playerSurgery = 0>>
<</if>>
<<if ndef $bodyswapAnnounced>>
	<<set $bodyswapAnnounced = 0>>
<</if>>
<<if ndef $allowFamilyTitles>>
	<<set $allowFamilyTitles = 0>>
<</if>>
<<if ndef $FCTVshow>>
	<<set $FCTVshow = 0>>
<</if>>
<<if ndef $randShow>>
	<<set $randShow = 0>>
<</if>>
<<if ndef $genePool>>
	<<set $genePool = []>>
<</if>>
<<if ndef $useSummaryCache>>
	<<set $useSummaryCache = true>>
<</if>>
<<if ndef $seeHyperPreg>>
	<<set $seeHyperPreg = 0>>
<</if>>
<<if ndef $seePreg>>
	<<set $seePreg = 1>>
<</if>>
<<if ndef $retainCareer>>
	<<set $retainCareer = 1>>
<</if>>
<<if ndef $freshPC>>
	<<set $freshPC = 0>>
<</if>>
<<if ndef $brothelAdsPreg>>
	<<set $brothelAdsPreg = 0>>
<</if>>
<<if ndef $dairyHyperPregRemodel>>
	<<set $dairyHyperPregRemodel = 0>>
<</if>>
<<if ndef $dairyWeightSetting>>
	<<set $dairyWeightSetting = 0>>
<</if>>
<<if ndef $dairyImplantsSetting>>
	<<set $dairyImplantsSetting = 1>>
<</if>>
<<if ndef $clubAdsPreg>>
	<<set $clubAdsPreg = 0>>
<</if>>
<<if ndef $spaFix>>
	<<set $spaFix = 0>>
<</if>>
<<if ndef $incubator>>
	<<set $incubator = 0>>
<</if>>
<<if ndef $incubatorSlaves>>
	<<set $incubatorSlaves = 0>>
<</if>>
<<if ndef $incubatorOrgans>>
<<set $incubatorOrgans = []>>
<</if>>
<<if ndef $incubatorOldID>>
<<set $incubatorOldID = 0>>
<</if>>
<<if ndef $incubatorUpgradeSpeed>>
	<<set $incubatorUpgradeSpeed = 5>>
<</if>>
<<if ndef $incubatorUpgradeWeight>>
	<<set $incubatorUpgradeWeight = 0>>
<</if>>
<<if ndef $incubatorUpgradeMuscles>>
	<<set $incubatorUpgradeMuscles = 0>>
<</if>>
<<if ndef $incubatorUpgradeReproduction>>
	<<set $incubatorUpgradeReproduction = 0>>
<</if>>
<<if ndef $incubatorUpgradeGrowthStims>>
	<<set $incubatorUpgradeGrowthStims = 0>>
<</if>>
<<if ndef $incubatorUpgradeOrgans>>
<<set $incubatorUpgradeOrgans = 0>>
<</if>>
<<if ndef $incubatorImprintSetting>>
	<<set $incubatorImprintSetting = 0>>
<</if>>
<<if ndef $incubatorWeightSetting>>
	<<set $incubatorWeightSetting = 0>>
<</if>>
<<if ndef $incubatorMusclesSetting>>
	<<set $incubatorMusclesSetting = 0>>
<</if>>
<<if ndef $incubatorReproductionSetting>>
	<<set $incubatorReproductionSetting = 0>>
<</if>>
<<if ndef $incubatorGrowthStimsSetting>>
	<<set $incubatorGrowthStimsSetting = 0>>
<</if>>
<<if ndef $incubatorName>>
	<<set $incubatorName = "the Incubator">>
<</if>>
<<if ndef $incubatorNameCaps>>
	<<set $incubatorNameCaps = "The Incubator">>
<</if>>
<<if ndef $reservedChildren>>
	<<set $reservedChildren = 0>>
<</if>>
<<if ndef $tanks>>
	<<set $tanks = []>>
<</if>>
<<if ndef $clinicUpgradePurge>>
	<<set $clinicUpgradePurge = 0>>
<</if>>
<<if ndef $masterSuiteHyperPregnancy>>
	<<set $masterSuiteHyperPregnancy = 0>>
<</if>>
<<if ndef $legendaryWombID>>
	<<set $legendaryWombID = 0>>
<</if>>
<<if ndef $FSCreditCount>>
	<<set $FSCreditCount = 5>>
<</if>>
<<if ndef $FSCreditCountString>>
	<<set $FSCreditCountString = "five">>
<</if>>
<<if ndef $FSGotRepCredits>>
	<<if $FSGotRepCreditSix == 1>>
		<<set $FSGotRepCredits = 7>>
	<<elseif $FSGotRepCreditFive == 1>>
		<<set $FSGotRepCredits = 6>>
	<<elseif $FSGotRepCreditFour == 1>>
		<<set $FSGotRepCredits = 5>>
	<<elseif $FSGotRepCreditThree == 1>>
		<<set $FSGotRepCredits = 4>>
	<<elseif $FSGotRepCreditTwo == 1>>
		<<set $FSGotRepCredits = 3>>
	<<elseif $FSGotRepCreditOne == 1>>
		<<set $FSGotRepCredits = 2>>
	<<elseif $FSAnnounced == 1>>
		<<set $FSGotRepCredits = 1>>
	<<else>>
		<<set $FSGotRepCredits = 0>>
	<</if>>
<</if>>
<<if def $FSGotRepCreditSix>>
	<<unset $FSGotRepCreditSix>>
<</if>>
<<if def $FSGotRepCreditFive>>
	<<unset $FSGotRepCreditFive>>
<</if>>
<<if def $FSGotRepCreditFour>>
	<<unset $FSGotRepCreditFour>>
<</if>>
<<if def $FSGotRepCreditThree>>
	<<unset $FSGotRepCreditThree>>
<</if>>
<<if def $FSGotRepCreditTwo>>
	<<unset $FSGotRepCreditTwo>>
<</if>>
<<if def $FSGotRepCreditOne>>
	<<unset $FSGotRepCreditOne>>
<</if>>
<<if ndef $makeDicks>>
	<<set $makeDicks = 0>>
<</if>>
<<if ndef $showEconomicDetails>>
	<<set $showEconomicDetails = 0>>
<</if>>
<<if def $assignFilter>>
	<<unset $assignFilter>>
<</if>>
<<if ndef $personalAttention>>
	<<set $personalAttention = "sex">>
<</if>>
<<if def $trainingRegimen>>
	<<if typeof $personalAttention == "number">>
		<<set $personalAttention = [{ID: $personalAttention, trainingRegimen: $trainingRegimen}]>>
	<</if>>
	<<unset $trainingRegimen, $personalAttentionChanged>>
<</if>>
<<if ndef $assistantExtra1>>
	<<set $assistantExtra1 = 0>>
<</if>>
<<if ndef $assistantExtra2>>
	<<set $assistantExtra2 = 0>>
<</if>>
<<if ndef $assistantBodyDesire>>
	<<set $assistantBodyDesire = 0>>
<</if>>

	<<set $assistantPronouns = {pronoun: "she", possessivePronoun: "hers", possessive: "her", object: "her", objectReflexive: "herself", noun: "girl"}>>

<<if ndef $huskSlaveOrdered>>
	<<set $huskSlaveOrdered = 0>>
<</if>>
<<if ndef $huskSlave>>
	<<set $huskSlave = {age: 18, nationality: "slave", race: "white", sex: 1, virgin: 0}>>
<</if>>
<<if ndef $pedo_mode>>
	<<set $pedo_mode = 0>>
<</if>>
<<if ndef $one_time_age_overrides_pedo_mode>>
	<<set $one_time_age_overrides_pedo_mode = 0>>
<</if>>
<<if ndef $minimumSlaveAge>>
	<<set $minimumSlaveAge = 16>>
<</if>>
<<if ndef $fertilityAge>>
	<<set $fertilityAge = 13>>
<</if>>
<<if ndef $potencyAge>>
	<<set $potencyAge = 13>>
<</if>>
<<if ndef $activeSlaveOneTimeMinAge>>
	<<set $activeSlaveOneTimeMinAge = 0>>
<</if>>
<<if ndef $activeSlaveOneTimeMaxAge>>
	<<set $activeSlaveOneTimeMaxAge = 999>>
<</if>>
<<if ndef $AgePenalty>>
	<<set $AgePenalty = 1>>
<</if>>
<<if ndef $precociousPuberty>>
	<<set $precociousPuberty = 0>>
<</if>>
<<if ndef $targetAge>>
	<<set $targetAge = $minimumSlaveAge>>
<</if>>
<<if ndef $disableLisping>>
	<<set $disableLisping = 0>>
<</if>>
<<if ndef $cheatModeM>>
	<<set $cheatModeM = 1>>
<</if>>
<<if ndef $MercenariesMessageSent>>
	<<set $MercenariesMessageSent = 0>>
<</if>>
<<if ndef $SpecialForcesMessageSent>>
	<<set $SpecialForcesMessageSent = 0>>
<</if>>
<<if ndef $BodyguardHasSucessfullyRecivedSignal>>
	<<set $BodyguardHasSucessfullyRecivedSignal = 0>>
<</if>>
<<if ndef $finalChoice>>
	<<set $finalChoice = "none">>
<</if>>
<<if ndef $eliteTotal>>
	<<set $eliteTotal = 12>>
<</if>>
<<if ndef $eliteDead>>
	<<set $eliteDead = 0>>
<</if>>
<<if ndef $eliteVegetable>>
	<<set $eliteVegetable = 0>>
<</if>>
<<if ndef $eliteFate>>
	<<set $eliteFate = 0>>
<</if>>
<<if ndef $failedElite>>
	<<set $failedElite = 0>>
<</if>>
<<if ndef $eugenicsFullControl>>
	<<set $eugenicsFullControl = 0>>
<</if>>
<<if ndef $merchantFSWares>>
	<<set $merchantFSWares = ["GenderRadicalistResearch", "TransformationFetishistResearch", "AssetExpansionistResearch", "SlimnessEnthusiastResearch", "YouthPreferentialistResearch", "HedonisticDecadenceResearch"]>>
<</if>>
<<if ndef $merchantIllegalWares>>
	<<set $merchantIllegalWares = ["childhoodFertilityInducedNCS"]>>
<<elseif $merchantIllegalWares.length == 0>>
	<<set _dump = $merchantIllegalWares.delete("childhoodFertilityInducedNCS")>>
	<<set $merchantIllegalWares.push("childhoodFertilityInducedNCS")>>
<</if>>
<<if ndef $arcologies[0].childhoodFertilityInducedNCSResearch>>
	<<set $arcologies[0].childhoodFertilityInducedNCSResearch = 0>>
<</if>>
<<if $arcologies[0].childFertilityInducedNCSResearch>>
	<<unset $arcologies[0].childFertilityInducedNCSResearch>>
<</if>>
<<if ndef $showInches>>
	<<set $showInches = 0>>
<</if>>


<<if $SFMODToggle == 1 && $securityForceCreate == 1>>
	/* SF anon additional Special Force Variables [SFVAR] */

	/* Personnel/Gear  */
	<<if ndef $securityForceHeavyBattleTank>>
		<<set $securityForceHeavyBattleTank = 0>>
	<</if>>
	<<if ndef $securityForceSpacePlanePower>>
		<<set $securityForceSpacePlanePower = 0>>
	<</if>>
	<<if ndef $securityForceFortressZeppelin>>
		<<set $securityForceFortressZeppelin = 0>>
	<</if>>
	<<if ndef $securityForceAC130>>
		<<set $securityForceAC130 = 0>>
	<</if>>
	<<if ndef $securityForceHeavyTransport>>
		<<set $securityForceHeavyTransport = 0>>
	<</if>>
	<<if ndef $securityForceSatellitePower>>
		<<set $securityForceSatellitePower = 0>>
	<</if>>
	<<if $terrain != "oceanic" && $terrain != "marine">>
		<<if ndef $securityForceGiantRobot>>
			<<set $securityForceGiantRobot = 0>>
		<</if>>
		<<if ndef $securityForceMissileSilo>>
			<<set $securityForceMissileSilo = 0>>
		<</if>>
	<</if>>
	<<if $terrain == "oceanic" || $terrain == "marine">>
		<<if ndef $HeavyAmphibiousTransport>>
			<<set $HeavyAmphibiousTransport = 0>>
		<</if>>
		<<if ndef $securityForceAircraftCarrier>>
			<<set $securityForceAircraftCarrier = 0>>
		<</if>>
		<<if ndef $securityForceSubmarine>>
			<<set $securityForceSubmarine = 0>>
		<</if>>
	<</if>>

	/* FacilitySupport */
	<<if ndef $SupportFacility>>
		<<set $SupportFacility = 0>>
	<</if>>

	/* Colonel /*
	<<if ndef $ColonelCore>>
		<<set $ColonelCore = "">>
	<</if>>
	<<if ndef $securityForceColonelToken>>
		<<set $securityForceColonelToken = 0>>
	<</if>>
	<<if ndef $securityForceSexedColonelToken>>
		<<set $securityForceSexedColonelToken = 0>>
	<</if>>
	<<if ndef $securityForceColonelSexed>>
		<<set $securityForceColonelSexed = 0>>
	<</if>>

	/* TradeShow */
	<<if ndef $TradeShowAttendanceGranted>>
		<<set $TradeShowAttendanceGranted = 0>>
	<</if>>
	<<if ndef $OverallTradeShowAttendance>>
		<<set $OverallTradeShowAttendance = 0>>
	<</if>>
	<<if ndef $CurrentTradeShowAttendance>>
		<<set $CurrentTradeShowAttendance = 0>>
	<</if>>
	<<if ndef $TradeShowIncome>>
		<<set $TradeShowIncome = 0>>
	<</if>>
	<<if ndef $TotalTradeShowIncome>>
		<<set $TotalTradeShowIncome = 0>>
	<</if>>
	<<if ndef $TradeShowHelots>>
		<<set $TradeShowHelots = 0>>
	<</if>>
	<<if ndef $TotalTradeShowHelots>>
		<<set $TotalTradeShowHelots = 0>>
	<</if>>

<</if>>

<<if ndef $useSlaveSummaryTabs>>
	<<set $useSlaveSummaryTabs = 0>>
<</if>>
<<if ndef $useSlaveSummaryOverviewTab>>
	<<set $useSlaveSummaryOverviewTab = 0>>
<</if>>
<<if ndef $useSlaveListInPageJSNavigation>>
	<<set $useSlaveListInPageJSNavigation = 0>>
<</if>>

<<if ndef $arcologies[0].FSAztecRevivalist>>
	<<for _bci = 0; _bci < $arcologies.length; _bci++>>
		<<set $arcologies[_bci].FSAztecRevivalist = "unset", $arcologies[_bci].FSAztecRevivalistDecoration = 0>>
	<</for>>
	<<set $arcologies[0].FSAztecRevivalistLaw = 0, $arcologies[0].FSAztecRevivalistSMR = 0>>
<</if>>
<<if ndef $arcologies[0].FSHedonisticDecadence>>
	<<for _bci = 0; _bci < $arcologies.length; _bci++>>
		<<set $arcologies[_bci].FSHedonisticDecadence = "unset", $arcologies[_bci].FSHedonisticDecadenceDecoration = 0>>
	<</for>>
	<<set $arcologies[0].FSHedonisticDecadenceLaw = 0, $arcologies[0].FSHedonisticDecadenceLaw2 = 0, $arcologies[0].FSHedonisticDecadenceSMR = 0, $arcologies[0].FSHedonisticDecadenceResearch = 0>>
<</if>>
<<if ndef $arcologies[0].FSHedonisticDecadenceDietResearch>>
	<<set $arcologies[0].FSHedonisticDecadenceDietResearch = 0>>
<</if>>
<<if ndef $arcologies[0].FSPhysicalIdealistStrongFat>>
	<<set $arcologies[0].FSPhysicalIdealistStrongFat = 0>>
<</if>>
<<if ndef $arcologies[0].FSHedonisticDecadenceStrongFat>>
	<<set $arcologies[0].FSHedonisticDecadenceStrongFat = 0>>
<</if>>
<<if ndef $arcologies[0].FSCummunism>>
	<<for _bci = 0; _bci < $arcologies.length; _bci++>>
		<<set $arcologies[_bci].FSCummunism = "unset", $arcologies[_bci].FSCummunismDecoration = 0>>
	<</for>>
	<<set $arcologies[0].FSCummunismResearch = 0>>
<</if>>
<<if ndef $arcologies[0].FSIncestFetishist>>
	<<for _bci = 0; _bci < $arcologies.length; _bci++>>
		<<set $arcologies[_bci].FSIncestFetishist = "unset", $arcologies[_bci].FSIncestFetishistDecoration = 0>>
	<</for>>
	<<set $arcologies[0].FSIncestFetishistResearch = 0>>
<</if>>
<<for _bci = 0; _bci < $arcologies.length; _bci++>>
	<<if $arcologies[_bci].FSHedonisticDecadence == 0>>
		<<set $arcologies[_bci].FSHedonisticDecadence = "unset", $arcologies[_bci].FSHedonisticDecadenceDecoration = 0>>
	<</if>>
<</for>>
<<if ndef $arcologies[0].FSPhysicalIdealistLaw>>
	<<set $arcologies[0].FSPhysicalIdealistLaw = 0>>
<</if>>

<<if ndef $TCR>>
	<<set $TCR = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>

<<if ndef $FSPromenade>>
	<<set $FSPromenade = {Subjugationist: 0, Supremacist: 0, GenderRadicalist: 0, GenderFundamentalist: 0, Paternalist: 0, Degradationist: 0, BodyPurist: 0, TransformationFetishist: 0, YouthPreferentialist: 0, MaturityPreferentialist: 0, SlimnessEnthusiast: 0, AssetExpansionist: 0, Pastoralist: 0, PhysicalIdealist: 0, ChattelReligionist: 0, RomanRevivalist: 0, AztecRevivalist: 0, EgyptianRevivalist: 0, EdoRevivalist: 0, ArabianRevivalist: 0, ChineseRevivalist: 0, Repopulationist: 0, Eugenics: 0, Hedonism: 0}>>
<</if>>

<<if ndef $arcologyUpgrade>>
	<<set $arcologyUpgrade = {drones: 0, hydro: 0, apron: 0, grid: 0, spire: 0}>>
	<<set $arcologyUpgrade.drones = ($AProsperityCap > 60)  ? 1 : 0>>
	<<set $arcologyUpgrade.hydro  = ($AProsperityCap > 80)  ? 1 : 0>>
	<<set $arcologyUpgrade.apron  = ($AProsperityCap > 100) ? 1 : 0>>
	<<set $arcologyUpgrade.grid   = ($AProsperityCap > 120) ? 1 : 0>>
	<<set $arcologyUpgrade.spire  = ($AProsperityCap > 240) ? 1 : 0>>
<</if>>

<<if def $AHelots>>
	<<set $ASlaves += Math.trunc($AHelots / 2)>>
	<<unset $AHelots>>
<</if>>

<<if ndef $seeBuilding>>
	<<set $seeBuilding = $seeArcology>>
<</if>>

<<if ndef $sectors>>
	<<set $sectors = []>>
	<<set $AS = {type: "Penthouse", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: ($arcologyUpgrade.spire) ? "LuxuryApartments" : "Empty", ownership: 0}>><<set $sectors.push($AS)>>
	<<set $AS = {type: ($arcologyUpgrade.spire) ? "LuxuryApartments" : "Empty", ownership: 0}>><<set $sectors.push($AS)>>
	<<set $AS = {type: ($arcologyUpgrade.spire) ? "LuxuryApartments" : "Empty", ownership: 0}>><<set $sectors.push($AS)>>
	<<set $AS = {type: ($arcologyUpgrade.spire) ? "LuxuryApartments" : "Empty", ownership: 0}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Shops", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Shops", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Shops", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Apartments", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Markets", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Markets", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Markets", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Markets", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Markets", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Manufacturing", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Manufacturing", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Manufacturing", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Manufacturing", ownership: 1}>><<set $sectors.push($AS)>>
	<<set $AS = {type: "Manufacturing", ownership: 1}>><<set $sectors.push($AS)>>
	<<for _bci = 0; _bci < 12; _bci++>>
		<<set _j = random(5,28)>>
		<<if $sectors[_j].ownership == 1>>
			<<set $sectors[_j].ownership = 0>>
		<<else>>
			<<set _bci-->>
		<</if>>
	<</for>>
<</if>>

<<if $brothel && $sectors[5].type != "Brothel" && $sectors[6].type != "Brothel" && $sectors[7].type != "Brothel">>
	<<set $sectors[5].type = "Brothel", $sectors[5].ownership = 1>>
<</if>>
<<if $club && $sectors[5].type != "Club" && $sectors[6].type != "Club" && $sectors[7].type != "Club">>
	<<set $sectors[7].type = "Club", $sectors[7].ownership = 1>>
<</if>>
<<if $arcade && $sectors[20].type != "Arcade" && $sectors[21].type != "Arcade" && $sectors[22].type != "Arcade" && $sectors[23].type != "Arcade" && $sectors[24].type != "Arcade">>
	<<set $sectors[21].type = "Arcade", $sectors[21].ownership = 1>>
<</if>>
<<if $pit && $sectors[20].type != "Pit" && $sectors[21].type != "Pit" && $sectors[22].type != "Pit" && $sectors[23].type != "Pit" && $sectors[24].type != "Pit">>
	<<set $sectors[23].type = "Pit", $sectors[23].ownership = 1>>
<</if>>
<<if $dairy && $sectors[25].type != "Dairy" && $sectors[26].type != "Dairy" && $sectors[27].type != "Dairy" && $sectors[28].type != "Dairy" && $sectors[29].type != "Dairy">>
	<<set $sectors[27].type = "Dairy", $sectors[27].ownership = 1>>
<</if>>

<<if ndef $month>>
<<set $month = either("January","February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")>>
<</if>>
<<if ndef $day>>
<<set $day = random(1,28)>>
<</if>>
<<if ndef $year>>
	<<set $year = (2037+Math.floor($week/52))>>
<</if>>

<<if ndef $arcologies>>
<<set $arcologies = []>>

<<set $arcologies[0] = {name: "Arcology X-", direction: 0, government: 1, honeymoon: 0, prosperity: 50, FSSupremacist: "unset", FSSupremacistRace: 0, FSSubjugationist: "unset", FSSubjugationistRace: 0, FSGenderRadicalist: "unset", FSGenderFundamentalist: "unset", FSPaternalist: "unset", FSDegradationist: "unset", FSBodyPurist: "unset", FSTransformationFetishist: "unset", FSYouthPreferentialist: "unset", FSMaturityPreferentialist: "unset", FSSlimnessEnthusiast: "unset", FSAssetExpansionist: "unset", FSPastoralist: "unset", FSPhysicalIdealist: "unset", FSChattelReligionist: "unset", FSRomanRevivalist: "unset", FSEgyptianRevivalist: "unset", FSEdoRevivalist: "unset", FSArabianRevivalist: "unset", FSChineseRevivalist: "unset", FSNull: "unset", FSRepopulationFocus: "unset", FSRestart: "unset", FSHedonisticDecadence: "unset", embargo: 1, embargoTarget: -1, influenceTarget: -1, influenceBonus: 0, rival: 0}>>
<</if>>

<<if def $arcologyName>>
	<<set $arcologies[0].name = $arcologyName>>
	<<unset $arcologyName>>
<<elseif ndef $arcologies[0].name>>
	<<set $arcologies[0].name = "Arcology X-4">>
<</if>>

<<if ndef $arcologies[0].ownership>>
	<<set $arcologies[0].ownership = 50>>
<</if>>
<<if ndef $arcologies[0].minority>>
	<<set $arcologies[0].minority = 20>>
<</if>>
<<if ndef $arcologies[0].embargo>>
	<<set $arcologies[0].embargo = 1>>
<</if>>
<<if ndef $arcologies[0].embargoTarget>>
	<<set $arcologies[0].embargoTarget = -1>>
<</if>>
<<if ndef $arcologies[0].hackingEconomic>>
	<<set $arcologies[0].hackingEconomic = 1>>
<</if>>
<<if ndef $arcologies[0].hackingEconomicTarget>>
	<<set $arcologies[0].hackingEconomicTarget = -1>>
<</if>>
<<if ndef $arcologies[0].hackingReputationTarget>>
	<<set $arcologies[0].hackingReputationTarget = -1>>
<</if>>
<<if ndef $arcologies[0].hackingReputation>>
	<<set $arcologies[0].hackingReputation = 1>>
<</if>>
<<if ndef $arcologies[0].influenceTarget>>
	<<set $arcologies[0].influenceTarget = -1>>
<</if>>
<<if ndef $arcologies[0].influenceBonus>>
	<<set $arcologies[0].influenceBonus = -1>>
<</if>>
<<if ndef $arcologies[0].CyberEconomic>>
	<<set $arcologies[0].CyberEconomic = 1>>
<</if>>
<<if ndef $arcologies[0].CyberEconomicTarget>>
	<<set $arcologies[0].CyberEconomicTarget = -1>>
<</if>>
<<if ndef $arcologies[0].CyberReputation>>
	<<set $arcologies[0].CyberReputation = 1>>
<</if>>
<<if ndef $arcologies[0].CyberReputationTarget>>
	<<set $arcologies[0].CyberReputationTarget = -1>>
<</if>>
<<if ndef $arcologies[0].rival>>
	<<set $arcologies[0].rival = 0>>
<</if>>
<<if ndef $arcologies[0].FSNull>>
	<<set $arcologies[0].FSNull = "unset">>
<</if>>
<<if ndef $arcologies[0].FSRepopulationFocus>>
	<<set $arcologies[0].FSRepopulationFocus = "unset">>
<</if>>
<<if ndef $arcologies[0].FSRestart>>
	<<set $arcologies[0].FSRestart = "unset">>
<</if>>
<<if ndef $arcologies[0].PCminority>>
	<<set $arcologies[0].PCminority = 0>>
<</if>>
<<if ndef $arcologies[0].demandFactor>>
	<<set $arcologies[0].demandFactor = 250>>
<</if>>
<<if ndef $arcologies[0].leaderID>>
	<<set $arcologies[0].leaderID = 0>>
<</if>>

<<if def $FSSupremacist && $FSSupremacist != "unset">>
	<<set $arcologies[0].FSSupremacist = $FSSupremacist>>
	<<set $arcologies[0].FSSupremacistRace = $FSSupremacistRace>>
	<<unset $FSSupremacist>>
	<<unset $FSSupremacistRace>>
<<elseif ndef $arcologies[0].FSSupremacist>>
	<<set $arcologies[0].FSSupremacist = "unset">>
<</if>>

<<if def $FSSupremacistLawME && $FSSupremacistLawME != 0>>
	<<set $arcologies[0].FSSupremacistLawME = $FSSupremacistLawME>>
	<<unset $FSSupremacistLawME>>
<<elseif ndef $arcologies[0].FSSupremacistLawME>>
	<<set $arcologies[0].FSSupremacistLawME = 0>>
<</if>>

<<if def $FSSubjugationist && $FSSubjugationist != "unset">>
	<<set $arcologies[0].FSSubjugationist = $FSSubjugationist>>
	<<set $arcologies[0].FSSubjugationistRace = $FSSubjugationistRace>>
	<<unset $FSSubjugationist>>
	<<unset $FSSubjugationistRace>>
<<elseif ndef $arcologies[0].FSSubjugationist>>
	<<set $arcologies[0].FSSubjugationist = "unset">>
<</if>>

<<if def $FSSubjugationistLawME && $FSSubjugationistLawME != 0>>
	<<set $arcologies[0].FSSubjugationistLawME = $FSSubjugationistLawME>>
	<<unset $FSSubjugationistLawME>>
<<elseif ndef $arcologies[0].FSSubjugationistLawME>>
	<<set $arcologies[0].FSSubjugationistLawME = 0>>
<</if>>

<<if def $FSDegradationist && $FSDegradationist != "unset">>
	<<set $arcologies[0].FSDegradationist = $FSDegradationist>>
	<<unset $FSDegradationist>>
<<elseif ndef $arcologies[0].FSDegradationist>>
	<<set $arcologies[0].FSDegradationist = "unset">>
<</if>>

<<if def $FSDegradationistLaw && $FSDegradationistLaw != 0>>
	<<set $arcologies[0].FSDegradationistLaw = $FSDegradationistLaw>>
	<<unset $FSDegradationistLaw>>
<<elseif ndef $arcologies[0].FSDegradationistLaw>>
	<<set $arcologies[0].FSDegradationistLaw = 0>>
<</if>>

<<if def $FSPaternalist && $FSPaternalist != "unset">>
	<<set $arcologies[0].FSPaternalist = $FSPaternalist>>
	<<unset $FSPaternalist>>
<<elseif ndef $arcologies[0].FSPaternalist>>
	<<set $arcologies[0].FSPaternalist = "unset">>
<</if>>

<<if def $FSPaternalistLaw && $FSPaternalistLaw != 0>>
	<<set $arcologies[0].FSPaternalistLaw = $FSPaternalistLaw>>
	<<unset $FSPaternalistLaw>>
<<elseif ndef $arcologies[0].FSPaternalistLaw>>
	<<set $arcologies[0].FSPaternalistLaw = 0>>
<</if>>

<<if def $FSGenderFundamentalist && $FSGenderFundamentalist != "unset">>
	<<set $arcologies[0].FSGenderFundamentalist = $FSGenderFundamentalist>>
	<<unset $FSGenderFundamentalist>>
<<elseif ndef $arcologies[0].FSGenderFundamentalist>>
	<<set $arcologies[0].FSGenderFundamentalist = "unset">>
<</if>>

<<if def $FSGenderFundamentalistSMR && $FSGenderFundamentalistSMR != 0>>
	<<set $arcologies[0].FSGenderFundamentalistSMR = $FSGenderFundamentalistSMR>>
	<<unset $FSGenderFundamentalistSMR>>
<<elseif ndef $arcologies[0].FSGenderFundamentalistSMR>>
	<<set $arcologies[0].FSGenderFundamentalistSMR = 0>>
<</if>>

<<if def $FSGenderRadicalist && $FSGenderRadicalist != "unset">>
	<<set $arcologies[0].FSGenderRadicalist = $FSGenderRadicalist>>
	<<unset $FSGenderRadicalist>>
<<elseif ndef $arcologies[0].FSGenderRadicalist>>
	<<set $arcologies[0].FSGenderRadicalist = "unset">>
<</if>>

<<if def $FSGenderRadicalistLaw>>
	<<unset $FSGenderRadicalistLaw>>
<</if>>

<<if ndef $arcologies[0].FSGenderRadicalistLawBeauty>>
	<<set $arcologies[0].FSGenderRadicalistLawBeauty = 0>>
<</if>>

<<if ndef $arcologies[0].FSGenderRadicalistLawFuta>>
	<<set $arcologies[0].FSGenderRadicalistLawFuta = 0>>
<</if>>

<<if def $FSBodyPurist && $FSBodyPurist != "unset">>
	<<set $arcologies[0].FSBodyPurist = $FSBodyPurist>>
	<<unset $FSBodyPurist>>
<<elseif ndef $arcologies[0].FSBodyPurist>>
	<<set $arcologies[0].FSBodyPurist = "unset">>
<</if>>

<<if def $FSBodyPuristLaw && $FSBodyPuristLaw != 0>>
	<<set $arcologies[0].FSBodyPuristLaw = $FSBodyPuristLaw>>
	<<unset $FSBodyPuristLaw>>
<<elseif ndef $arcologies[0].FSBodyPuristLaw>>
	<<set $arcologies[0].FSBodyPuristLaw = 0>>
<</if>>

<<if def $FSPhysicalIdealist && $FSPhysicalIdealist != "unset">>
	<<set $arcologies[0].FSPhysicalIdealist = $FSPhysicalIdealist>>
	<<unset $FSPhysicalIdealist>>
<<elseif ndef $arcologies[0].FSPhysicalIdealist>>
	<<set $arcologies[0].FSPhysicalIdealist = "unset">>
<</if>>

<<if def $FSPhysicalIdealistSMR && $FSPhysicalIdealistSMR != 0>>
	<<set $arcologies[0].FSPhysicalIdealistSMR = $FSPhysicalIdealistSMR>>
	<<unset $FSPhysicalIdealistSMR>>
<<elseif ndef $arcologies[0].FSPhysicalIdealistSMR>>
	<<set $arcologies[0].FSPhysicalIdealistSMR = 0>>
<</if>>

<<if def $FSTransformationFetishist && $FSTransformationFetishist != "unset">>
	<<set $arcologies[0].FSTransformationFetishist = $FSTransformationFetishist>>
	<<unset $FSTransformationFetishist>>
<<elseif ndef $arcologies[0].FSTransformationFetishist>>
	<<set $arcologies[0].FSTransformationFetishist = "unset">>
<</if>>

<<if def $FSTransformationFetishistLaw && $FSTransformationFetishistLaw != 0>>
	<<set $arcologies[0].FSTransformationFetishistLaw = $FSTransformationFetishistLaw>>
	<<unset $FSTransformationFetishistLaw>>
<<elseif ndef $arcologies[0].FSTransformationFetishistLaw>>
	<<set $arcologies[0].FSTransformationFetishistLaw = 0>>
<</if>>

<<if def $FSAssetExpansionist && $FSAssetExpansionist != "unset">>
	<<set $arcologies[0].FSAssetExpansionist = $FSAssetExpansionist>>
	<<unset $FSAssetExpansionist>>
<<elseif ndef $arcologies[0].FSAssetExpansionist>>
	<<set $arcologies[0].FSAssetExpansionist = "unset">>
<</if>>

<<if def $FSAssetExpansionistSMR && $FSAssetExpansionistSMR != 0>>
	<<set $arcologies[0].FSAssetExpansionistSMR = $FSAssetExpansionistSMR>>
	<<unset $FSAssetExpansionistSMR>>
<<elseif ndef $arcologies[0].FSAssetExpansionistSMR>>
	<<set $arcologies[0].FSAssetExpansionistSMR = 0>>
<</if>>

<<if def $FSSlimnessEnthusiast && $FSSlimnessEnthusiast != "unset">>
	<<set $arcologies[0].FSSlimnessEnthusiast = $FSSlimnessEnthusiast>>
	<<unset $FSSlimnessEnthusiast>>
<<elseif ndef $arcologies[0].FSSlimnessEnthusiast>>
	<<set $arcologies[0].FSSlimnessEnthusiast = "unset">>
<</if>>

<<if def $FSSlimnessEnthusiastSMR && $FSSlimnessEnthusiastSMR != 0>>
	<<set $arcologies[0].FSSlimnessEnthusiastSMR = $FSSlimnessEnthusiastSMR>>
	<<unset $FSSlimnessEnthusiastSMR>>
<<elseif ndef $arcologies[0].FSSlimnessEnthusiastSMR>>
	<<set $arcologies[0].FSSlimnessEnthusiastSMR = 0>>
<</if>>

<<if def $FSMaturityPreferentialist && $FSMaturityPreferentialist != "unset">>
	<<set $arcologies[0].FSMaturityPreferentialist = $FSMaturityPreferentialist>>
	<<unset $FSMaturityPreferentialist>>
<<elseif ndef $arcologies[0].FSMaturityPreferentialist>>
	<<set $arcologies[0].FSMaturityPreferentialist = "unset">>
<</if>>

<<if def $FSMaturityPreferentialistLaw && $FSMaturityPreferentialistLaw != 0>>
	<<set $arcologies[0].FSMaturityPreferentialistLaw = $FSMaturityPreferentialistLaw>>
	<<unset $FSMaturityPreferentialistLaw>>
<<elseif ndef $arcologies[0].FSMaturityPreferentialistLaw>>
	<<set $arcologies[0].FSMaturityPreferentialistLaw = 0>>
<</if>>

<<if def $FSYouthPreferentialist && $FSYouthPreferentialist != "unset">>
	<<set $arcologies[0].FSYouthPreferentialist = $FSYouthPreferentialist>>
	<<unset $FSYouthPreferentialist>>
<<elseif ndef $arcologies[0].FSYouthPreferentialist>>
	<<set $arcologies[0].FSYouthPreferentialist = "unset">>
<</if>>

<<if def $FSYouthPreferentialistLaw && $FSYouthPreferentialistLaw != 0>>
	<<set $arcologies[0].FSYouthPreferentialistLaw = $FSYouthPreferentialistLaw>>
	<<unset $FSYouthPreferentialistLaw>>
<<elseif ndef $arcologies[0].FSYouthPreferentialistLaw>>
	<<set $arcologies[0].FSYouthPreferentialistLaw = 0>>
<</if>>

<<if def $FSPastoralist && $FSPastoralist != "unset">>
	<<set $arcologies[0].FSPastoralist = $FSPastoralist>>
	<<unset $FSPastoralist>>
<<elseif ndef $arcologies[0].FSPastoralist>>
	<<set $arcologies[0].FSPastoralist = "unset">>
<</if>>

<<if def $FSPastoralistLaw && $FSPastoralistLaw != 0>>
	<<set $arcologies[0].FSPastoralistLaw = $FSPastoralistLaw>>
	<<unset $FSPastoralistLaw>>
<<elseif ndef $arcologies[0].FSPastoralistLaw>>
	<<set $arcologies[0].FSPastoralistLaw = 0>>
<</if>>

<<if def $FSChattelReligionist && $FSChattelReligionist != "unset">>
	<<set $arcologies[0].FSChattelReligionist = $FSChattelReligionist>>
	<<unset $FSChattelReligionist>>
<<elseif ndef $arcologies[0].FSChattelReligionist>>
	<<set $arcologies[0].FSChattelReligionist = "unset">>
<</if>>

<<if def $FSChattelReligionistLaw && $FSChattelReligionistLaw != 0>>
	<<set $arcologies[0].FSChattelReligionistLaw = $FSChattelReligionistLaw>>
	<<unset $FSChattelReligionistLaw>>
<<elseif ndef $arcologies[0].FSChattelReligionistLaw>>
	<<set $arcologies[0].FSChattelReligionistLaw = 0>>
<</if>>

<<if def $FSRomanRevivalist && $FSRomanRevivalist != "unset">>
	<<set $arcologies[0].FSRomanRevivalist = $FSRomanRevivalist>>
	<<unset $FSRomanRevivalist>>
<<elseif ndef $arcologies[0].FSRomanRevivalist>>
	<<set $arcologies[0].FSRomanRevivalist = "unset">>
<</if>>

<<if def $FSRomanRevivalistLaw && $FSRomanRevivalistLaw != 0>>
	<<set $arcologies[0].FSRomanRevivalistLaw = $FSRomanRevivalistLaw>>
	<<unset $FSRomanRevivalistLaw>>
<<elseif ndef $arcologies[0].FSRomanRevivalistLaw>>
	<<set $arcologies[0].FSRomanRevivalistLaw = 0>>
<</if>>

<<if def $FSEgyptianRevivalist && $FSEgyptianRevivalist != "unset">>
	<<set $arcologies[0].FSEgyptianRevivalist = $FSEgyptianRevivalist>>
	<<unset $FSEgyptianRevivalist>>
<<elseif ndef $arcologies[0].FSEgyptianRevivalist>>
	<<set $arcologies[0].FSEgyptianRevivalist = "unset">>
<</if>>

<<if def $FSEgyptianRevivalistLaw && $FSEgyptianRevivalistLaw != 0>>
	<<set $arcologies[0].FSEgyptianRevivalistLaw = $FSEgyptianRevivalistLaw>>
	<<unset $FSEgyptianRevivalistLaw>>
<<elseif ndef $arcologies[0].FSEgyptianRevivalistLaw>>
	<<set $arcologies[0].FSEgyptianRevivalistLaw = 0>>
<</if>>

<<if ndef $arcologies[0].FSEgyptianRevivalistIncestPolicy>>
	<<set $arcologies[0].FSEgyptianRevivalistIncestPolicy = 0>>
<</if>>
<<if ndef $arcologies[0].FSEgyptianRevivalistInterest>>
	<<set $arcologies[0].FSEgyptianRevivalistInterest = 0>>
<</if>>

<<if def $FSEdoRevivalist && $FSEdoRevivalist != "unset">>
	<<set $arcologies[0].FSEdoRevivalist = $FSEdoRevivalist>>
	<<unset $FSEdoRevivalist>>
<<elseif ndef $arcologies[0].FSEdoRevivalist>>
	<<set $arcologies[0].FSEdoRevivalist = "unset">>
<</if>>

<<if def $FSEdoRevivalistLaw && $FSEdoRevivalistLaw != 0>>
	<<set $arcologies[0].FSEdoRevivalistLaw = $FSEdoRevivalistLaw>>
	<<unset $FSEdoRevivalistLaw>>
<<elseif ndef $arcologies[0].FSEdoRevivalistLaw>>
	<<set $arcologies[0].FSEdoRevivalistLaw = 0>>
<</if>>

<<if def $FSArabianRevivalist && $FSArabianRevivalist != "unset">>
	<<set $arcologies[0].FSArabianRevivalist = $FSArabianRevivalist>>
	<<unset $FSArabianRevivalist>>
<<elseif ndef $arcologies[0].FSArabianRevivalist>>
	<<set $arcologies[0].FSArabianRevivalist = "unset">>
<</if>>

<<if def $FSArabianRevivalistLaw && $FSArabianRevivalistLaw != 0>>
	<<set $arcologies[0].FSArabianRevivalistLaw = $FSArabianRevivalistLaw>>
	<<unset $FSArabianRevivalistLaw>>
<<elseif ndef $arcologies[0].FSArabianRevivalistLaw>>
	<<set $arcologies[0].FSArabianRevivalistLaw = 0>>
<</if>>

<<if def $FSChineseRevivalist && $FSChineseRevivalist != "unset">>
	<<set $arcologies[0].FSChineseRevivalist = $FSChineseRevivalist>>
	<<unset $FSChineseRevivalist>>
<<elseif ndef $arcologies[0].FSChineseRevivalist>>
	<<set $arcologies[0].FSChineseRevivalist = "unset">>
<</if>>

<<if def $FSChineseRevivalistLaw && $FSChineseRevivalistLaw != 0>>
	<<set $arcologies[0].FSChineseRevivalistLaw = $FSChineseRevivalistLaw>>
	<<unset $FSChineseRevivalistLaw>>
<<elseif ndef $arcologies[0].FSChineseRevivalistLaw>>
	<<set $arcologies[0].FSChineseRevivalistLaw = 0>>
<</if>>

<<silently>>
<<include "MOD_Edit FS Cheat Datatype Cleanup">>
<<include "MOD_Edit Neighbor Arcology Cheat Datatype Cleanup">>
<</silently>>

Setting missing global variables:
<<if ndef $assistantPower>>
	<<set $assistantPower = 0>>
<</if>>

<<if ndef $CulturalOpenness>>
	<<set $CulturalOpenness = 0>>
<</if>>

<<if ndef $displayAssignments>>
	<<set $displayAssignments = 1>>
<</if>>

<<if ndef $universalRulesImpregnation>>
	<<set $universalRulesImpregnation = "none">>
<</if>>

<<if ndef $abbreviateNationality>>
	<<set $abbreviateNationality = 0>>
<</if>>

<<if ndef $language>>
	<<set $language = "English">>
<</if>>

<<if ndef $terrain>>
	<<set $terrain = "rural">>
<</if>>

<<if ndef $menialDemandFactor>>
	<<set $menialDemandFactor = 0>>
<</if>>
<<if ndef nicaeaAnnounceable>>
	<<set $nicaeaAnnounceable = 0>>
<</if>>
<<if ndef $nicaeaAnnounced>>
	<<set $nicaeaAnnounced = 0>>
<</if>>
<<if ndef $nicaeaPreparation>>
	<<set $nicaeaPreparation = 0>>
<</if>>
<<if ndef $nicaeaInvolvement>>
	<<set $nicaeaInvolvement = -1>>
<</if>>
<<if ndef $nicaeaPower>>
	<<set $nicaeaPower = 0>>
<</if>>
<<if ndef $nicaeaHeld>>
	<<set $nicaeaHeld = 0>>
<</if>>

<<if ndef $facilityCost>>
<<set $facilityCost = 100>>
<</if>>
<<if ndef $policyCost>>
	<<set $policyCost = 5000>>
<</if>>

<<if ndef $REFeminizationCheckinIDs>>
	<<set $REFeminizationCheckinIDs = []>>
<</if>>
<<if ndef $REMILFCheckinIDs>>
	<<set $REMILFCheckinIDs = []>>
<</if>>
<<if ndef $REOrientationCheckinIDs>>
	<<set $REOrientationCheckinIDs = []>>
<</if>>
<<if ndef $REUglyCheckinIDs>>
	<<set $REUglyCheckinIDs = []>>
<</if>>
<<if ndef $REButtholeCheckinIDs>>
	<<set $REButtholeCheckinIDs = []>>
<</if>>
<<if ndef $REFutaSisterCheckinIDs>>
	<<set $REFutaSisterCheckinIDs = []>>
<</if>>
<<if ndef $REReductionCheckinIDs>>
	<<set $REReductionCheckinIDs = []>>
<</if>>
<<if def $RERelationshipSlave>>
	<<unset $RERelationshipSlave>>
<</if>>
<<if ndef $dormitory>>
	<<set $dormitory = 20>>
<</if>>
<<if ndef $dormitoryPopulation>>
	<<set $dormitoryPopulation = 0>>
<</if>>
<<if ndef $rooms>>
	<<set $rooms = 5>>
<</if>>
<<if ndef $roomsPopulation>>
	<<set $roomsPopulation = 0>>
<</if>>

<<if ndef $BrothiIDs>>
	<<set $BrothiIDs = []>>
<</if>>
<<if $BrothiIDs.length > 0 && typeof $BrothiIDs[0] === 'object'>>
	<<set $BrothiIDs = $BrothiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $brothelName>>
	<<set $brothelName = "the Brothel">>
<</if>>
<<if ndef $brothelNameCaps>>
	<<set $brothelNameCaps = "The Brothel">>
<</if>>
<<if ndef $brothelDecoration>>
	<<set $brothelDecoration = "standard">>
<</if>>

<<if ndef $DairyiIDs>>
	<<set $DairyiIDs = []>>
<</if>>
<<if $DairyiIDs.length > 0 && typeof $DairyiIDs[0] === 'object'>>
	<<set $DairyiIDs = $DairyiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $dairyName>>
	<<set $dairyName = "the Dairy">>
<</if>>
<<if ndef $dairyNameCaps>>
	<<set $dairyNameCaps = "The Dairy">>
<</if>>
<<if ndef $dairyDecoration>>
	<<set $dairyDecoration = "standard">>
<</if>>
<<if ndef $dairyFeedersUpgrade>>
	<<set $dairyFeedersUpgrade = 0>>
<</if>>
<<if ndef $dairyStimulatorsUpgrade>>
	<<set $dairyStimulatorsUpgrade = 0>>
<</if>>
<<if ndef $dairyPregUpgrade>>
	<<set $dairyPregUpgrade = 0>>
<</if>>

<<if ndef $createBioreactors>>
	<<set $createBioreactors = 0>>
<</if>>
<<if ndef $bioreactorsAnnounced>>
	<<set $bioreactorsAnnounced = 0>>
<</if>>
<<if ndef $bioreactorsHerm>>
	<<set $bioreactorsHerm = 0>>
<</if>>
<<if ndef $bioreactorsXX>>
	<<set $bioreactorsXX = 0>>
<</if>>
<<if ndef $bioreactorsXY>>
	<<set $bioreactorsXY = 0>>
<</if>>
<<if ndef $bioreactorsBarren>>
	<<set $bioreactorsBarren = 0>>
<</if>>

<<if ndef $ClubiIDs>>
	<<set $ClubiIDs = []>>
<</if>>
<<if $ClubiIDs.length > 0 && typeof $ClubiIDs[0] === 'object'>>
	<<set $ClubiIDs = $ClubiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $clubName>>
	<<set $clubName = "the Club">>
<</if>>
<<if ndef $clubNameCaps>>
	<<set $clubNameCaps = "The Club">>
<</if>>
<<if ndef $clubDecoration>>
	<<set $clubDecoration = "standard">>
<</if>>

<<if ndef $ServQiIDs>>
	<<set $ServQiIDs = []>>
<</if>>
<<if $ServQiIDs.length > 0 && typeof $ServQiIDs[0] === 'object'>>
	<<set $ServQiIDs = $ServQiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $servantsQuartersName>>
	<<set $servantsQuartersName = "the Servants' Quarters">>
<</if>>
<<if ndef $servantsQuartersNameCaps>>
	<<set $servantsQuartersNameCaps = "The Servants' Quarters">>
<</if>>
<<if ndef $servantsQuartersDecoration >>
	<<set $servantsQuartersDecoration = "standard">>
<</if>>

<<if ndef $SchlRiIDs>>
	<<set $SchlRiIDs = []>>
<</if>>
<<if $SchlRiIDs.length > 0 && typeof $SchlRiIDs[0] === 'object'>>
	<<set $SchlRiIDs = $SchlRiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $schoolroomName>>
	<<set $schoolroomName = "the Schoolroom">>
<</if>>
<<if ndef $schoolroomNameCaps>>
	<<set $schoolroomNameCaps = "The Schoolroom">>
<</if>>
<<if ndef $schoolroomUpgradeSkills>>
	<<set $schoolroomUpgradeSkills = 0>>
<</if>>
<<if ndef $schoolroomUpgradeLanguage>>
	<<set $schoolroomUpgradeLanguage = 0>>
<</if>>
<<if ndef $schoolroomDecoration>>
	<<set $schoolroomDecoration = "standard">>
<</if>>

<<if ndef $SpaiIDs>>
	<<set $SpaiIDs = []>>
<</if>>
<<if $SpaiIDs.length > 0 && typeof $SpaiIDs[0] === 'object'>>
	<<set $SpaiIDs = $SpaiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $spaName>>
	<<set $spaName = "the Spa">>
<</if>>
<<if ndef $spaNameCaps>>
	<<set $spaNameCaps = "The Spa">>
<</if>>
<<if ndef $spaDecoration>>
	<<set $spaDecoration = "standard">>
<</if>>

<<if ndef $CliniciIDs>>
	<<set $CliniciIDs = []>>
<</if>>
<<if $CliniciIDs.length > 0 && typeof $CliniciIDs[0] === 'object'>>
	<<set $CliniciIDs = $CliniciIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $clinicName>>
	<<set $clinicName = "the Clinic">>
<</if>>
<<if ndef $clinicNameCaps>>
	<<set $clinicNameCaps = "The Clinic">>
<</if>>
<<if ndef $clinicSlaves>>
	<<set $clinicSlaves = 0>>
<</if>>
<<if ndef $clinic>>
	<<set $clinic = 0>>
<</if>>
<<if ndef $clinicUpgradeFilters>>
	<<set $clinicUpgradeFilters = 0>>
<</if>>
<<if ndef $clinicUpgradeScanner>>
	<<set $clinicUpgradeScanner = 0>>
<</if>>
<<if ndef $clinicDecoration>>
	<<set $clinicDecoration = "standard">>
<</if>>

<<if ndef $ArcadeiIDs>>
	<<set $ArcadeiIDs = []>>
<</if>>
<<if $ArcadeiIDs.length > 0 && typeof $ArcadeiIDs[0] === 'object'>>
	<<set $ArcadeiIDs = $ArcadeiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $arcadeName>>
	<<set $arcadeName = "the Arcade">>
<</if>>
<<if ndef $arcadeNameCaps>>
	<<set $arcadeNameCaps = "The Arcade">>
<</if>>
<<if ndef $arcadeDecoration>>
	<<set $arcadeDecoration = "standard">>
<</if>>

<<if ndef $CellBiIDs>>
	<<set $CellBiIDs = []>>
<</if>>
<<if $CellBiIDs.length > 0 && typeof $CellBiIDs[0] === 'object'>>
	<<set $CellBiIDs = $CellBiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $cellblockName>>
	<<set $cellblockName = "the Cellblock">>
<</if>>
<<if ndef $cellblockNameCaps>>
	<<set $cellblockNameCaps = "The Cellblock">>
<</if>>
<<if ndef $cellblockDecoration>>
	<<set $cellblockDecoration = "standard">>
<</if>>
<<if ndef $cellblockWardenCumsInside>>
	<<set $cellblockWardenCumsInside = 0>>
<</if>>

<<if ndef $MastSiIDs>>
	<<set $MastSiIDs = []>>
<</if>>
<<if $MastSiIDs.length > 0 && typeof $MastSiIDs[0] === 'object'>>
	<<set $MastSiIDs = $MastSiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $masterSuiteName>>
	<<set $masterSuiteName = "the Master Suite">>
<</if>>
<<if ndef $masterSuiteNameCaps>>
	<<set $masterSuiteNameCaps = "The Master Suite">>
<</if>>
<<if ndef $masterSuiteUpgradePregnancy>>
	<<set $masterSuiteUpgradePregnancy = 0>>
<</if>>
<<if ndef $masterSuitePregnancyFertilityDrugs>>
	<<set $masterSuitePregnancyFertilityDrugs = 0>>
<</if>>
<<if ndef $masterSuitePregnancyFertilitySupplements>>
	<<set $masterSuitePregnancyFertilitySupplements = 0>>
<</if>>
<<if ndef $masterSuitePregnancySlaveLuxuries>>
	<<set $masterSuitePregnancySlaveLuxuries = 0>>
<</if>>
<<if ndef $universalHGImpregnateMasterSuiteToggle>>
	<<set $universalHGImpregnateMasterSuiteToggle = 0>>
<</if>>
<<if ndef $masterSuiteDecoration>>
	<<set $masterSuiteDecoration = "standard">>
<</if>>

<<if ndef $HGSuiteiIDs>>
	<<set $HGSuiteiIDs = []>>
<</if>>
<<if $HGSuiteiIDs.length > 0 && typeof $HGSuiteiIDs[0] === 'object'>>
	<<set $HGSuiteiIDs = $HGSuiteiIDs.map(function(a) { return a.ID; })>>
<</if>>
<<if ndef $HGSuiteName>>
	<<set $HGSuiteName = "the Head Girl Suite">>
<</if>>
<<if ndef $HGSuiteNameCaps>>
	<<set $HGSuiteNameCaps = "The Head Girl Suite">>
<</if>>
<<if ndef $HGSuiteSurgery>>
	<<set $HGSuiteSurgery = 1>>
<</if>>
<<if ndef $HGSuiteDrugs>>
	<<set $HGSuiteDrugs = 1>>
<</if>>
<<if ndef $HGSuiteHormones>>
	<<set $HGSuiteHormones = 1>>
<</if>>
<<if ndef $HGSuiteEquality>>
	<<set $HGSuiteEquality = 0>>
<</if>>

<<if ndef $pitName>>
	<<set $pitName = "the Pit">>
<</if>>
<<if ndef $pitNameCaps>>
	<<set $pitNameCaps = "The Pit">>
<</if>>
<<if ndef $fighterIDs>>
	<<set $fighterIDs = []>>
<</if>>
<<if ndef $pitVirginities>>
	<<set $pitVirginities = 0>>
<</if>>
<<if ndef $pitBG>>
	<<set $pitBG = 0>>
<</if>>

<<if ndef $verboseDescriptions>>
	<<set $verboseDescriptions = 0>>
<</if>>
<<if ndef $clothesBoughtBunny>>
	<<set $clothesBoughtBunny = 0>>
<</if>>
<<if ndef $clothesBoughtConservative>>
	<<set $clothesBoughtConservative = 0>>
<</if>>
<<if ndef $clothesBoughtChains>>
	<<set $clothesBoughtChains = 0>>
<</if>>
<<if ndef $clothesBoughtWestern>>
	<<set $clothesBoughtWestern = 0>>
<</if>>
<<if ndef $clothesBoughtOil>>
	<<set $clothesBoughtOil = 0>>
<</if>>
<<if ndef $clothesBoughtHabit>>
	<<set $clothesBoughtHabit = 0>>
<</if>>
<<if ndef $clothesBoughtToga>>
	<<set $clothesBoughtToga = 0>>
<</if>>
<<if ndef $clothesBoughtKimono>>
	<<set $clothesBoughtKimono = 0>>
<</if>>
<<if ndef $clothesBoughtHarem>>
	<<set $clothesBoughtHarem = 0>>
<</if>>
<<if ndef $clothesBoughtQipao>>
	<<set $clothesBoughtQipao = 0>>
<</if>>
<<if ndef $clothesBoughtEgypt>>
	<<set $clothesBoughtEgypt = 0>>
<</if>>
<<if ndef $buckets>>
	<<set $buckets = 0>>
<</if>>

<<if ndef $clothesBoughtMaternityDress>>
	<<set $clothesBoughtMaternityDress = 0>>
<</if>>

<<if ndef $clothesBoughtMaternityLingerie>>
	<<set $clothesBoughtMaternityLingerie = 0>>
<</if>>

<<if ndef $clothesBoughtLazyClothes>>
	<<set $clothesBoughtLazyClothes = 0>>
<</if>>

<<if ndef $assistantFSAppearance>>
	<<set $assistantFSAppearance = "default">>
<</if>>

<<if ndef $universalRulesRest>>
	<<set $universalRulesRest = 0>>
<</if>>

<<if ndef $universalRulesNewSlavesRA>>
	<<set $universalRulesNewSlavesRA = 1>>
<</if>>

<<if ndef $hormoneUpgradeMood>>
	<<set $hormoneUpgradeMood = 0>>
<</if>>

<<if ndef $hormoneUpgradeShrinkage>>
	<<set $hormoneUpgradeShrinkage = 0>>
<</if>>

<<if ndef $hormoneUpgradePower>>
	<<set $hormoneUpgradePower = 0>>
<</if>>

<<if ndef $schoolSuggestion>>
	<<set $schoolSuggestion = 0>>
<</if>>

<<if ndef $prostheticsUpgrade>>
	<<set $prostheticsUpgrade = 0>>
<</if>>
<<if ndef $limbs>>
	<<set $limbs = []>>
<</if>>
<<if ndef $limbsCompleted>>
	<<set $limbsCompleted = 0>>
<</if>>
<<if ndef $dispensaryUpgrade>>
	<<set $dispensaryUpgrade = 0>>
<</if>>
<<if ndef $growthStim>>
	<<set $growthStim = 0>>
<</if>>
<<if ndef $pubertyLength>>
	<<set $pubertyLength = 5>>
<</if>>
<<if ndef $maxGrowthAge>>
	<<set $maxGrowthAge = 24>>
<</if>>
<<if ndef $ImplantProductionUpgrade>>
	<<set $ImplantProductionUpgrade = 0>>
<</if>>
<<if ndef $permaPregImplant>>
	<<set $permaPregImplant = 0>>
<</if>>
<<if ndef $pubertyHormones>>
	<<set $pubertyHormones = 0>>
<</if>>
<<if ndef $dietXXY>>
	<<set $dietXXY = 0>>
<</if>>
<<if ndef $dietCleanse>>
	<<set $dietCleanse = 0>>
<</if>>
<<if ndef $dietFertility>>
	<<set $dietFertility = 0>>
<</if>>
<<if ndef $cumProDiet>>
	<<set $cumProDiet = 0>>
<</if>>
<<if ndef $aphrodisiacUpgradeRefine>>
	<<set $aphrodisiacUpgradeRefine = 0>>
<</if>>
<<if ndef $healthyDrugsUpgrade>>
	<<set $healthyDrugsUpgrade = 0>>
<</if>>
<<if ndef $reproductionFormula>>
	<<set $reproductionFormula = 0>>
<</if>>
<<if ndef $superFertilityDrugs>>
	<<set $superFertilityDrugs = 0>>
<</if>>
<<if ndef $bellyImplants>>
	<<set $bellyImplants = 0>>
<</if>>
<<if ndef $cervixImplants>>
	<<set $cervixImplants = 0>>
<</if>>
<<if ndef $prostateImplants>>
	<<set $prostateImplants = 0>>
<</if>>
<<if ndef $shelterSlaveGeneratedWeek || $shelterSlaveGeneratedWeek > $week>>
	<<set $shelterSlaveGeneratedWeek = 0>>
<</if>>
<<if ndef $goodImageCampaign>>
	<<set $goodImageCampaign = 0>>
<</if>>
<<if ndef $sexualOpeness>>
	<<set $sexualOpeness = 0>>
<</if>>
<<if ndef $youngerOvaries>>
	<<set $youngerOvaries = 0>>
<</if>>

/* Job Fulfillment Center */
<<if ndef $JFCOrder>>
	<<set $JFCOrder = 0>>
<</if>>
<<if ndef $Role>>
	<<set $Role = "">>
<</if>>

<<if ndef $trinkets>>
	<<set $trinkets = []>>

	<<set $upgradeMultiplierArcology = 1>>
	<<set $upgradeMultiplierMedicine = 1>>
	<<if $PC.career == "wealth">>
		<<set $trinkets.push("a collection of diplomas from expensive schools")>>
	<<elseif $PC.career == "capitalist">>
		<<set $trinkets.push("a framed low denomination piece of paper money from your native country")>>
	<<elseif $PC.career == "mercenary">>
		<<set $trinkets.push("a battered old assault rifle")>>
	<<elseif $PC.career == "slaver">>
		<<set $trinkets.push("a framed picture of a slave with her sale price scrawled across the bottom")>>
	<<elseif $PC.career == "engineer">>
		<<set $trinkets.push("an artist's impression of an early arcology design")>>
		<<set $upgradeMultiplierArcology = 0.6>>
	<<elseif $PC.career == "medicine">>
		<<set $trinkets.push("a framed postsurgical x-ray")>>
		<<set $upgradeMultiplierMedicine = 0.8>>
	<<elseif $PC.career == "celebrity">>
		<<set $trinkets.push("a framed copy of the first news story featuring yourself")>>
	<<elseif $PC.career == "arcology owner">>
		<<set $trinkets.push("a miniature model of your first arcology")>>
	<<elseif $PC.career == "escort">>
		<<set $trinkets.push("a copy of the first porno you starred in")>>
	<<elseif $PC.career == "servant">>
		<<set $trinkets.push("a framed picture of your late Master")>>
	<<elseif $PC.career == "gang">>
		<<set $trinkets.push("your favorite handgun, whose sight has instilled fear in many")>>
	<<elseif $PC.career == "BlackHat">>
		<<set $trinkets.push("a news clipping of your first successful live hack")>>
	<</if>>
<</if>>

<<if ndef $researchLab>>
	<<set $researchLab = {}>>
	<<set $researchLab.built = "false">>
<</if>>

<<if ndef $TSS>>
	<<set $TSS = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>
<<if ndef $GRI>>
	<<set $GRI = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>
<<if ndef $SCP>>
	<<set $SCP = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>
<<if ndef $LDE>>
	<<set $LDE = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>
<<if ndef $TGA>>
	<<set $TGA = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>
<<if ndef $TCR>>
	<<set $TCR = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>
<<if ndef $TFS>>
	<<set $TFS = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0, compromiseWeek: 0, farmUpgrade: 0}>>
<</if>>
<<if ndef $TFS.compromiseWeek>>
	<<set $TFS.compromiseWeek = 0>>
<</if>>
<<if ndef $HA>>
	<<set $HA = {schoolUpgrade: 0, schoolPresent: 0, schoolProsperity: 0, subsidize: 0, schoolAnnexed: 0, studentsBought: 0, schoolSale: 0}>>
<</if>>

<<if ndef $assistantName>>
	<<set $assistantName = "your personal assistant">>
<</if>>

<<if ndef $birthee>>
	<<set $birthee = 0>>
<</if>>

<<if ndef $assistantNameAnnounced>>
	<<set $assistantNameAnnounced = 0>>
<</if>>

<<if ndef $alwaysSubsidizeRep>>
<<set $alwaysSubsidizeRep = 0>>
<</if>>
<<if ndef $alwaysSubsidizeGrowth>>
<<set $alwaysSubsidizeGrowth = 0>>
<</if>>
<<if ndef $ProImmigrationCash>>
<<set $ProImmigrationCash = 0>>
<</if>>
<<if ndef $ProImmigrationRep>>
<<set $ProImmigrationRep = 0>>
<</if>>
<<if ndef $AntiImmigrationCash>>
<<set $AntiImmigrationCash = 0>>
<</if>>
<<if ndef $AntiImmigrationRep>>
<<set $AntiImmigrationRep = 0>>
<</if>>
<<if ndef $ProEnslavementCash>>
<<set $ProEnslavementCash = 0>>
<</if>>
<<if ndef $ProEnslavementRep>>
<<set $ProEnslavementRep = 0>>
<</if>>
<<if ndef $AntiEnslavementCash>>
<<set $AntiEnslavementCash = 0>>
<</if>>
<<if ndef $AntiEnslavementRep>>
<<set $AntiEnslavementRep = 0>>
<</if>>
<<if ndef $BasicSMR>>
<<set $BasicSMR = 1>>
<</if>>
<<if ndef $HealthInspectionSMR>>
<<set $HealthInspectionSMR = 0>>
<</if>>
<<if ndef $EducationSMR>>
<<set $EducationSMR = 0>>
<</if>>
<<if ndef $FrigiditySMR>>
<<set $FrigiditySMR = 0>>
<</if>>
<<if ndef $BasicBeautySMR>>
<<set $BasicBeautySMR = 0>>
<</if>>
<<if ndef $QualityBeautySMR>>
<<set $QualityBeautySMR = 0>>
<</if>>
<<if ndef $BasicWeightSMR>>
<<set $BasicWeightSMR = 0>>
<</if>>
<<if ndef $BasicIntelligenceSMR>>
<<set $BasicIntelligenceSMR = 0>>
<</if>>
<<if ndef $QualityIntelligenceSMR>>
<<set $QualityIntelligenceSMR = 0>>
<</if>>
<<if ndef $BasicHeightSMR>>
<<set $BasicHeightSMR = 0>>
<</if>>
<<if ndef $AdvancedHeightSMR>>
<<set $AdvancedHeightSMR = 0>>
<</if>>
<<if ndef $IntelligenceEugenicsSMR>>
<<set $IntelligenceEugenicsSMR = 0>>
<</if>>
<<if ndef $HeightEugenicsSMR>>
<<set $HeightEugenicsSMR = 0>>
<</if>>
<<if ndef $FaceEugenicsSMR>>
<<set $FaceEugenicsSMR = 0>>
<</if>>
<<if ndef $HonestySMR>>
<<set $HonestySMR = 0>>
<</if>>
<<if ndef $ProRefugees>>
<<set $ProRefugees = 0>>
<</if>>
<<if ndef $ProRecruitment>>
<<set $ProRecruitment = 0>>
<</if>>
<<if ndef $OralEncouragement>>
<<set $OralEncouragement = 0>>
<</if>>
<<if ndef $VaginalEncouragement>>
<<set $VaginalEncouragement = 0>>
<</if>>
<<if ndef $AnalEncouragement>>
<<set $AnalEncouragement = 0>>
<</if>>
<<if ndef $OralDiscouragement>>
<<set $OralDiscouragement = 0>>
<</if>>
<<if ndef $VaginalDiscouragement>>
<<set $VaginalDiscouragement = 0>>
<</if>>
<<if ndef $AnalDiscouragement>>
<<set $AnalDiscouragement = 0>>
<</if>>
<<if ndef $CashForRep>>
<<set $CashForRep = 0>>
<</if>>
<<if ndef $RepForCash>>
<<set $RepForCash = 0>>
<</if>>
<<if ndef $Cash4Babies>>
<<set $Cash4Babies = 0>>
<</if>>
<<if ndef $PAPublic>>
<<set $PAPublic = 0>>
<</if>>
<<if ndef $CoursingAssociation>>
<<set $CoursingAssociation = 0>>
<</if>>
<<if ndef $Lurcher>>
<<set $Lurcher = 0>>
<</if>>
<<if ndef $coursed>>
<<set $coursed = 0>>
<</if>>
<<if ndef $MixedMarriage>>
<<set $MixedMarriage = 0>>
<</if>>

<<if ndef $expiree>>
<<set $expiree = 0>>
<</if>>
<<if ndef $retiree>>
<<set $retiree = 0>>
<</if>>
<<if ndef $retirementAge>>
<<set $retirementAge = 45>>
<</if>>
<<if ndef $customRetirementAge>>
<<set $customRetirementAge = 45>>
<</if>>
<<if ndef $CustomRetirementAgePolicy>>
<<set $CustomRetirementAgePolicy = 0>>
<</if>>
<<if ndef $BioreactorRetirement>>
<<set $BioreactorRetirement = 0>>
<</if>>
<<if ndef $ArcadeRetirement>>
<<set $ArcadeRetirement = 0>>
<</if>>
<<if ndef $CitizenRetirement>>
<<set $CitizenRetirement = 0>>
<</if>>
<<if def $manuallyRetired>>
<<unset $manuallyRetired>>
<</if>>

<<if ndef $justiceEvents>>
	<<set $justiceEvents = ["slave deal", "slave training", "majority deal", "indenture deal", "virginity deal"]>>
<</if>>

<<if (($ver.startsWith("0.6") && !$ver.startsWith("10.6")) || ($ver.startsWith("0.7")) || ($ver.startsWith("0.8")) || ($ver == "0.9"))>>
	<<if $seeDicks == 2>>
		<<set $seeDicks = 100>>
	<<elseif $seeDicks == 1>>
		<<set $seeDicks = 25>>
	<</if>>
<</if>>
<<set $seeDicks = Math.clamp($seeDicks, 0, 100)>>

<<if ndef $PC.ID>>
	<<set $PC.ID = -1>>
<</if>>

<<if !($ver.startsWith("0.10"))>>
	<<if $PC.refreshment == "cigar">>
		<<set $PC.refreshmentType = 0>>
	<<else>>
		<<set $PC.refreshmentType = 1>>
	<</if>>
<</if>>
<<set WombInit($PC)>>

Done!

<br><br>
Setting missing slave variables:
<<for _bci = 0; _bci < $slaves.length; _bci++>>
<<set _Slave = $slaves[_bci]>>

<<if typeof _Slave != "object">>
	<<set $slaves.deleteAt(_bci), _bci-->>
	<<continue>>
<</if>>

<<PMODinit _Slave>>

<<set WombInit(_Slave)>>

<<if ndef _Slave.publicCount>>
	<<set _Slave.publicCount = 0>>
<</if>>

<<if _Slave.origin == "Shortly after birth, she was sealed in an aging tank until she was of age. She knows only of the terror that awaits her should she not obey her master.">>
	<<set _Slave.tankBaby = 2>>
<<elseif _Slave.origin == "Shortly after birth, she was sealed in an aging tank until she was of age. She knows nothing of the world outside of what the tank imprinted her with.">>
	<<set _Slave.tankBaby = 1>>
<<elseif ndef _Slave.tankBaby>>
	<<set _Slave.tankBaby = 0>>
<</if>>

<<if ndef _Slave.need>>
	<<set _Slave.need = 0>>
<</if>>

<<if ndef _Slave.mother>>
	<<set _Slave.mother = 0>>
<</if>>
<<if ndef _Slave.father>>
	<<set _Slave.father = 0>>
<</if>>
<<if ndef _Slave.sisters>>
	<<set _Slave.sisters = 0>>
<</if>>
<<if ndef _Slave.daughters>>
	<<set _Slave.daughters = 0>>
<</if>>
<<if ndef _Slave.canRecruit>>
	<<set _Slave.canRecruit = 0>>
<</if>>
<<if _Slave.rivalry != 0>>
	<<set _backwardsCompatibility = $slaveIndices[_Slave.rivalryTarget]>>
	<<if ndef _backwardsCompatibility>><<set _Slave.rivalry = 0, _Slave.rivalryTarget = 0>><</if>>
<</if>>
<<if _Slave.relationship > 0>>
	<<set _backwardsCompatibility = $slaveIndices[_Slave.relationshipTarget]>>
	<<if ndef _backwardsCompatibility>><<set _Slave.relationship = 0, _Slave.relationshipTarget = 0>><</if>>
<</if>>
<<if $familyTesting == 0 && _Slave.relation != 0>>
	<<set _backwardsCompatibility = $slaveIndices[_Slave.relationTarget]>>
	<<if ndef _backwardsCompatibility>><<set _Slave.relation = 0, _Slave.relationTarget = 0>><</if>>
<</if>>
<<if ndef _Slave.buttplugAttachment>>
	<<set _Slave.buttplugAttachment = "none">>
<</if>>

<<if _Slave.race == "southern European">>
	<<set _Slave.race = "southern european">>
<</if>>

<<if ndef _Slave.aphrodisiacs>>
	<<set _Slave.aphrodisiacs = 0>>
<</if>>
<<if ndef _Slave.curatives>>
	<<set _Slave.curatives = 0>>
<</if>>
<<if ndef _Slave.lactationAdaptation>>
	<<set _Slave.lactationAdaptation = 0>>
<</if>>
<<if ndef _Slave.dietCum>>
	<<set _Slave.dietCum = 0>>
<</if>>
<<if ndef _Slave.dietMilk>>
	<<set _Slave.dietMilk = 0>>
<</if>>
<<if ndef _Slave.fuckdoll>>
	<<set _Slave.fuckdoll = 0>>
<</if>>
<<if ndef _Slave.customImage>>
	<<set _Slave.customImage = 0>>
<</if>>
<<if ndef _Slave.nationality || _Slave.nationality == 0>>
	<<set _Slave.nationality = "slave">>
<</if>>

<<if ndef _Slave.faceShape>>
	<<set _Slave.faceShape = "normal">>
<</if>>

<<if ndef _Slave.customTitle>>
	<<set _Slave.customTitle = "">>
<</if>>
<<if ndef _Slave.customTitleLisp>>
	<<set _Slave.customTitleLisp = "">>
<</if>>
<<if ndef _Slave.rudeTitle>>
	<<set _Slave.rudeTitle = 0>>
<</if>>

<<if ndef _Slave.genes>>
	<<if _Slave.ovaries == 1>>
		<<set _Slave.genes = "XX">>
	<<else>>
		<<set _Slave.genes = "XY">>
	<</if>>
<</if>>

<<if $releaseID < 1000>>
	<<if _Slave.face == -3>>
		<<set _Slave.face = -100>>
	<<elseif _Slave.face == -2>>
		<<set _Slave.face = -50>>
	<<elseif _Slave.face == -1>>
		<<set _Slave.face = -20>>
	<<elseif _Slave.face == 0>>
		<<set _Slave.face = 0>>
	<<elseif _Slave.face == 1>>
		<<set _Slave.face = 20>>
	<<elseif _Slave.face == 2>>
		<<set _Slave.face = 50>>
	<<else>>
		<<set _Slave.face = 100>>
	<</if>>
<</if>>

<<if _Slave.teeth == 0>>
	<<set _Slave.teeth = "normal">>
<</if>>

<<if ndef _Slave.boobShape>>
	<<set _Slave.boobShape = "perky">>
<</if>>

<<if ndef _Slave.vaginaLube>>
	<<set _Slave.vaginaLube = 0>>
<</if>>

<<if ndef _Slave.hips>>
	<<set _Slave.hips = 0>>
<</if>>

<<if ndef _Slave.hipsImplant>>
	<<set _Slave.hipsImplant = 0>>
<</if>>

<<if ndef _Slave.shoulders>>
	<<set _Slave.shoulders = 0>>
<</if>>

<<if ndef _Slave.shouldersImplant>>
	<<set _Slave.shouldersImplant = 0>>
<</if>>

<<if ndef _Slave.voiceImplant>>
	<<set _Slave.voiceImplant = 0>>
<</if>>

<<if ndef _Slave.backTat>>
	<<set _Slave.backTat = 0>>
<</if>>

<<if ndef _Slave.hStyle>>
	<<set _Slave.hColor = either("black", "blonde", "red", "brown")>>
<</if>>

<<if ndef _Slave.hStyle>>
	<<set _Slave.hStyle = either("ass-length", "long", "shoulder-length")>>
<</if>>

<<if ndef _Slave.eyeColor>>
	<<set _Slave.eyeColor = _Slave.eyes>>
	<<set _Slave.eyes = 1>>
	<<if ndef _Slave.eyeColor>>
		<<set _Slave.eyeColor = "brown">>
	<</if>>
<</if>>

<<if ndef _Slave.eyewear>>
  <<set _Slave.eyewear = "none">>
<</if>>

<<if ndef _Slave.indenture>>
	<<set _Slave.indenture = -1>>
<</if>>
<<if ndef _Slave.indentureRestrictions>>
	<<set _Slave.indentureRestrictions = 0>>
<</if>>
<<if ndef _Slave.birthWeek>>
	<<set _Slave.birthWeek = random(0,51)>>
<</if>>
<<if ndef _Slave.cSec>>
	<<set _Slave.cSec = 0>>
<</if>>
<<if ndef _Slave.labor>>
	<<set _Slave.labor = 0>>
<</if>>
<<if ndef _Slave.pregSource>>
	<<set _Slave.pregSource = 0>>
<</if>>

<<if ndef _Slave.training>>
	<<set _Slave.training = 0>>
<</if>>

<<if def _Slave.pitkills>>
	<<run delete _Slave.pitkills>>
<</if>>

<<if (($ver.startsWith("0.6") && !$ver.startsWith("10.6")) || ($ver.startsWith("0.7")) || ($ver.startsWith("0.8"))) && (!$ver.startsWith("0.8.9")) && (!$ver.startsWith("0.8.10")) && (!$ver.startsWith("0.8.11")) && (!$ver.startsWith("0.8.12"))>>
	<<if _Slave.attrXX == 2>>
		<<set _Slave.attrXX = 90>>
	<<elseif _Slave.attrXX == 1>>
		<<set _Slave.attrXX = 70>>
	<<elseif _Slave.attrXX == 0>>
		<<set _Slave.attrXX = 50>>
	<<elseif _Slave.attrXX == -1>>
		<<set _Slave.attrXX = 30>>
	<<else>>
		<<set _Slave.attrXX = 10>>
	<</if>>
	<<if _Slave.attrXY == 2>>
		<<set _Slave.attrXY = 90>>
	<<elseif _Slave.attrXY == 1>>
		<<set _Slave.attrXY = 70>>
	<<elseif _Slave.attrXY == 0>>
		<<set _Slave.attrXY = 50>>
	<<elseif _Slave.attrXY == -1>>
		<<set _Slave.attrXY = 30>>
	<<else>>
		<<set _Slave.attrXY = 10>>
	<</if>>
<</if>>

<<if (($ver.startsWith("0.6") && !$ver.startsWith("10.6")) || ($ver.startsWith("0.7")) || ($ver.startsWith("0.8")))>>
	<<if _Slave.health <= -9>>
		<<set _Slave.health = -90>>
	<<elseif _Slave.health <= -7>>
		<<set _Slave.health = random(-89,-70)>>
	<<elseif _Slave.health <= -5>>
		<<set _Slave.health = random(-69,-50)>>
	<<elseif _Slave.health <= -3>>
		<<set _Slave.health = random(-49,-30)>>
	<<elseif _Slave.health <= -1>>
		<<set _Slave.health = random(-29,-10)>>
	<<elseif _Slave.health <= 1>>
		<<set _Slave.health = random(-9,10)>>
	<<elseif _Slave.health <= 3>>
		<<set _Slave.health = random(11,30)>>
	<<elseif _Slave.health <= 5>>
		<<set _Slave.health = random(31,50)>>
	<<elseif _Slave.health <= 7>>
		<<set _Slave.health = random(51,70)>>
	<<elseif _Slave.health <= 8>>
		<<set _Slave.health = random(71,80)>>
	<<elseif _Slave.health <= 9>>
		<<set _Slave.health = random(81,90)>>
	<<elseif _Slave.health <= 10>>
		<<set _Slave.health = random(91,100)>>
	<<elseif _Slave.health <= 15>>
		<<set _Slave.health = random(101,150)>>
	<<elseif _Slave.health <= 20>>
		<<set _Slave.health = random(151,200)>>
	<<elseif _Slave.health >= 50>>
		<<set _Slave.health = 500>>
	<<elseif _Slave.health > 20>>
		<<set _Slave.health = 205>>
	<</if>>

 	<<set _Slave.devotion = (_Slave.devotion*5)>>
	<<set _Slave.oldDevotion = (_Slave.oldDevotion*5)>>
 	<<set _Slave.trust = (_Slave.trust*5)>>
	<<set _Slave.oldTrust = (_Slave.oldTrust*5)>>

	<<if _Slave.fetishStrength == 0>>
		<<set _Slave.fetishStrength = random(0, 60)>>
	<<elseif _Slave.fetishStrength == 1>>
		<<set _Slave.fetishStrength = random(61,80)>>
	<<elseif _Slave.fetishStrength == 2>>
		<<set _Slave.fetishStrength = random(96, 100)>>
	<</if>>

	<<if _Slave.weight == -3>>
		<<set _Slave.weight = random(-110,-96)>>
	<<elseif _Slave.weight == -3>>
		<<set _Slave.weight = random(-95,-31)>>
	<<elseif _Slave.weight == -1>>
		<<set _Slave.weight = random(-30, -11)>>
	<<elseif _Slave.weight == 0>>
		<<set _Slave.weight = random(-11, 10)>>
	<<elseif _Slave.weight == 1>>
		<<set _Slave.weight = random(11, 30)>>
	<<elseif _Slave.weight == 2>>
		<<set _Slave.weight = random(31, 95)>>
	<<elseif _Slave.weight == 3>>
		<<set _Slave.weight = random(96, 110)>>
	<</if>>

	<<if _Slave.lips != 0>>
		<<if _Slave.lips == 3>>
			<<set _Slave.lips = 85>>
		<<elseif _Slave.lips == 2>>
			<<set _Slave.lips = 55>>
		<<elseif _Slave.lips == 1>>
			<<set _Slave.lips = 35>>
		<</if>>
	<</if>>
<</if>>

<<if (($ver.startsWith("0.6") && !$ver.startsWith("10.6")) || ($ver.startsWith("0.7")) || ($ver.startsWith("0.8")) || ($ver.startsWith("0.9"))) && (!$ver.startsWith("0.9.5")) && (!$ver.startsWith("0.9.6")) && (!$ver.startsWith("0.9.7")) && (!$ver.startsWith("0.9.8")) && (!$ver.startsWith("0.9.9")) && (!$ver.startsWith("0.9.10"))>>
	<<if _Slave.oralSkill > 0>>
	<<if _Slave.oralSkill == 3>>
		<<set _Slave.oralSkill = 100>>
	<<elseif _Slave.oralSkill == 2>>
		<<set _Slave.oralSkill = 65>>
	<<else>>
		<<set _Slave.oralSkill = 35>>
	<</if>>
	<</if>>
	<<if _Slave.vaginalSkill > 0>>
	<<if _Slave.vaginalSkill == 3>>
		<<set _Slave.vaginalSkill = 100>>
	<<elseif _Slave.vaginalSkill == 2>>
		<<set _Slave.vaginalSkill = 65>>
	<<else>>
		<<set _Slave.vaginalSkill = 35>>
	<</if>>
	<</if>>
	<<if _Slave.analSkill > 0>>
	<<if _Slave.analSkill == 3>>
		<<set _Slave.analSkill = 100>>
	<<elseif _Slave.analSkill == 2>>
		<<set _Slave.analSkill = 65>>
	<<else>>
		<<set _Slave.analSkill = 35>>
	<</if>>
	<</if>>
	<<if _Slave.whoreSkill > 0>>
	<<if _Slave.whoreSkill == 3>>
		<<set _Slave.whoreSkill = 100>>
	<<elseif _Slave.whoreSkill == 2>>
		<<set _Slave.whoreSkill = 65>>
	<<else>>
		<<set _Slave.whoreSkill = 35>>
	<</if>>
	<</if>>
	<<if _Slave.entertainSkill > 0>>
	<<if _Slave.entertainSkill == 3>>
		<<set _Slave.entertainSkill = 100>>
	<<elseif _Slave.entertainSkill == 2>>
		<<set _Slave.entertainSkill = 65>>
	<<else>>
		<<set _Slave.entertainSkill = 35>>
	<</if>>
	<</if>>
	<<if ($ver != "0.9.4")>>
		<<set _Slave.aphrodisiacs = 0>>
		<<if _Slave.drugs == "curatives">>
			<<set _Slave.curatives = 2>>
			<<set _Slave.drugs = "no drugs">>
		<<elseif _Slave.drugs == "preventatives">>
			<<set _Slave.curatives = 1>>
			<<set _Slave.drugs = "no drugs">>
		<<elseif _Slave.drugs == "aphrodisiacs">>
			<<set _Slave.aphrodisiacs = 1>>
			<<set _Slave.drugs = "no drugs">>
		<<elseif _Slave.drugs == "extreme aphrodisiacs">>
			<<set _Slave.aphrodisiacs = 2>>
			<<set _Slave.drugs = "no drugs">>
		<</if>>
		<<if _Slave.muscles >= 3>>
			<<set _Slave.muscles = 100>>
		<<elseif _Slave.muscles >= 2>>
			<<set _Slave.muscles = 50>>
		<<elseif _Slave.muscles >= 1>>
			<<set _Slave.muscles = 20>>
		<<else>>
			<<set _Slave.muscles = 0>>
		<</if>>
	<</if>>
<</if>>
<<if (($ver.startsWith("0.6") == true && !$ver.startsWith("10.6")) || ($ver.startsWith("0.7") == true) || ($ver.startsWith("0.8") == true) || ($ver.startsWith("0.9") != true) || ($ver == "0.9"))>>
	<<if _Slave.lips != 0>>
	<<if _Slave.lips == 3>>
		<<set _Slave.lips = 85>>
	<<elseif _Slave.lips == 2>>
		<<set _Slave.lips = 55>>
	<<elseif _Slave.lips == 1>>
		<<set _Slave.lips = 35>>
	<</if>>
	<</if>>
<</if>>

<<switch _Slave.boobsTat>>
<<case "floral designs">>
	<<set _Slave.boobsTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.boobsTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.boobsTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.boobsTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.boobsTat = "advertisements">>
<</switch>>

<<switch _Slave.buttTat>>
<<case "floral designs">>
	<<set _Slave.buttTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.buttTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.buttTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.buttTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.buttTat = "advertisements">>
<</switch>>

<<switch _Slave.vaginaTat>>
<<case "floral designs">>
	<<set _Slave.vaginaTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.vaginaTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.vaginaTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.vaginaTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.vaginaTat = "advertisements">>
<</switch>>

<<switch _Slave.dickTat>>
<<case "floral designs">>
	<<set _Slave.dickTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.dickTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.dickTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.dickTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.dickTat = "advertisements">>
<</switch>>

<<switch _Slave.anusTat>>
<<case "floral designs">>
	<<set _Slave.anusTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.anusTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.anusTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.anusTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.anusTat = "advertisements">>
<</switch>>

<<switch _Slave.backTat>>
<<case "floral designs">>
	<<set _Slave.backTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.backTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.backTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.backTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.backTat = "advertisements">>
<</switch>>

<<switch _Slave.shouldersTat>>
<<case "floral designs">>
	<<set _Slave.shouldersTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.shouldersTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.shouldersTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.shouldersTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.shouldersTat = "advertisements">>
<</switch>>

<<switch _Slave.armsTat>>
<<case "floral designs">>
	<<set _Slave.armsTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.armsTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.armsTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.armsTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.armsTat = "advertisements">>
<</switch>>

<<switch _Slave.legsTat>>
<<case "floral designs">>
	<<set _Slave.legsTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.legsTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.legsTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.legsTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.legsTat = "advertisements">>
<</switch>>

<<switch _Slave.stampTat>>
<<case "floral designs">>
	<<set _Slave.stampTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.stampTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.stampTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.stampTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.stampTat = "advertisements">>
<</switch>>

<<switch _Slave.lipsTat>>
<<case "floral designs">>
	<<set _Slave.lipsTat = "flowers">>
<<case "demeaning inscriptions">>
	<<set _Slave.lipsTat = "rude words">>
<<case "lewd scenes">>
	<<set _Slave.lipsTat = "scenes">>
<<case "degrading language">>
	<<set _Slave.lipsTat = "degradation">>
<<case  "slutty advertisements">>
	<<set _Slave.lipsTat = "advertisements">>
<</switch>>

<<if ndef _Slave.areolaePiercing>>
	<<set _Slave.areolaePiercing = 0>>
<</if>>

<<if ndef _Slave.standardPunishment>>
	<<set _Slave.standardPunishment = "situational">>
<</if>>

<<if ndef _Slave.standardReward>>
	<<set _Slave.standardReward = "situational">>
<</if>>

<<if ndef _Slave.corsetPiercing>>
	<<set _Slave.corsetPiercing = 0>>
<</if>>

<<if ndef _Slave.dickAccessory>>
	<<set _Slave.dickAccessory = "none">>
<</if>>

<<if ndef _Slave.scrotum>>
  <<set _Slave.scrotum = _Slave.balls>>
<</if>>

<<if ndef _Slave.markings>>
	<<set _Slave.markings = "none">>
<</if>>

<<if ndef _Slave.accent>>
	<<set _Slave.accent = random(0,3)>>
<</if>>

<<if ndef _Slave.pornFame>>
	<<set _Slave.pornFame = 0>>
<</if>>
<<if ndef _Slave.pornFameSpending>>
	<<set _Slave.pornFameSpending = 0>>
<</if>>

<<if ndef _Slave.bellyAccessory>>
  <<set _Slave.bellyAccessory = "none">>
<</if>>

<<if ndef _Slave.legAccessory>>
  <<set _Slave.legAccessory = "none">>
<</if>>

<<if (ndef _Slave.currentRules) || (_Slave.currentRules.length < 1)>>
	<<set _Slave.currentRules = []>>
<</if>>

<<if _Slave.height < -1>>
	<<set _Slave.height = random(140,149)>>
<<elseif _Slave.height < 0>>
	<<set _Slave.height = random(150,159)>>
<<elseif _Slave.height < 1>>
	<<set _Slave.height = random(160,169)>>
<<elseif _Slave.height < 2>>
	<<set _Slave.height = random(170,184)>>
<<elseif _Slave.height <= 3>>
	<<set _Slave.height = random(185,200)>>
<</if>>

<<if _Slave.customTat == " ">>
	<<set _Slave.customTat = "">>
<</if>>

<<if _Slave.customLabel == " ">>
	<<set _Slave.customLabel = "">>
<</if>>
<<if _Slave.lipsPiercing == "no default setting">>
	<<set _Slave.lipsPiercing = 0>>
<</if>>
<<if _Slave.tonguePiercing == "no default setting">>
	<<set _Slave.tonguePiercing = 0>>
<</if>>
<<if _Slave.nipplesPiercing == "no default setting">>
	<<set _Slave.nipplesPiercing = 0>>
<</if>>
<<if _Slave.areolaePiercing == "no default setting">>
	<<set _Slave.areolaePiercing = 0>>
<</if>>
<<if _Slave.dickPiercing == "no default setting">>
	<<set _Slave.dickPiercing = 0>>
<</if>>
<<if _Slave.vaginaPiercing == "no default setting">>
	<<set _Slave.vaginaPiercing = 0>>
<</if>>
<<if _Slave.clitPiercing == "no default setting">>
	<<set _Slave.clitPiercing = 0>>
<</if>>
<<if _Slave.anusPiercing == "no default setting">>
	<<set _Slave.anusPiercing = 0>>
<</if>>
<<if _Slave.earPiercing == "no default setting">>
	<<set _Slave.earPiercing = 0>>
<</if>>
<<if _Slave.eyebrowPiercing == "no default setting">>
	<<set _Slave.eyebrowPiercing = 0>>
<</if>>
<<if _Slave.nosePiercing == "no default setting">>
	<<set _Slave.nosePiercing = 0>>
<</if>>
<<if _Slave.navelPiercing == "no default setting">>
	<<set _Slave.navelPiercing = 0>>
<</if>>
<<if _Slave.corsetPiercing == "no default setting">>
	<<set _Slave.corsetPiercing = 0>>
<</if>>

<<if _Slave.customDesc == " " || _Slave.customDesc == 0>>
	<<set _Slave.customDesc = "">>
<</if>>

<<if ndef _Slave.prostate>>
	<<if _Slave.dick > 0>>
		<<set _Slave.prostate = 1>>
	<<else>>
		<<set _Slave.prostate = 0>>
	<</if>>
<</if>>

<<if ndef _Slave.origEye>>
	<<set _Slave.origEye = _Slave.eyeColor>>
<</if>>
<<if ndef _Slave.origHColor>>
	<<set _Slave.origHColor = _Slave.hColor>>
<</if>>
<<if ndef _Slave.origSkin>>
	<<set _Slave.origSkin = _Slave.skin>>
<</if>>

<<if ndef _Slave.birthSurname>><<set _Slave.birthSurname = 0>><</if>>
<<if ndef _Slave.slaveSurname>><<set _Slave.slaveSurname = 0>><</if>>

<<if _Slave.faceImplant == 1>>
	<<set _Slave.faceImplant = 15>>
<<elseif _Slave.faceImplant == 2>>
	<<set _Slave.faceImplant = 65>>
<</if>>

<<if !isInt(_Slave.height)>>
	<<set _Slave.height = Math.trunc(_Slave.height)>>
<</if>>

<<if $cyberMod == 0 && (_Slave.amp < 0 || _Slave.PLimb == 2)>>
	<<set _Slave.PLimb = 1>>
<</if>>

<<for _bci2 = 0; _bci2 < _Slave.readyLimbs.length; _bci2++>>
	<<if typeof _Slave.readyLimbs[_bci2] != "object">>
		<<set _storedLimbs = {type: 0, armsTat: 0, legsTat: 0}>>
		<<set _storedLimbs.type = _Slave.readyLimbs[_bci2]>>
		<<set _Slave.readyLimbs[_bci2] = _storedLimbs>>
	<</if>>
<</for>>

<<set $slaves[_bci] = _Slave>>
<</for>>

<<set $slavesOriginal = []>> /* not used by pregmod */

<<for _bci = 0; _bci < $genePool.length; _bci++>>
	<<set _Slave = $genePool[_bci]>>
	<<if ndef _Slave.origSkin>><<set _Slave.origSkin = _Slave.skin>><</if>>

	<<if $genePool.map(function(s) { return s.ID; }).count(_Slave.ID) > 1>> /* first check for duplicate IDs, keep the first entry and delete the others */
		<<for _bci2 = _bci + 1; _bci2 < $genePool.length; _bci2++>>
			<<if $genePool[_bci2].ID == _Slave.ID>>
				<<set $genePool.deleteAt(_bci2), _bci2-->>
			<</if>>
		<</for>>
	<</if>>
	<<set _dontDeleteMe = 0>>
 	<<if def $slaveIndices[_Slave.ID]>> /* are we still in the $slaves array? */
		<<set _dontDeleteMe = 1>>
	<</if>>
	<<if $traitor != 0>>
		<<if isImpregnatedBy($traitor, _Slave) || $traitor.ID == _Slave.ID>> /* did we impregnate the traitor, or are we the traitor? */
			<<set _dontDeleteMe = 1>>
		<</if>>
	<</if>>
	<<if $boomerangSlave != 0>>
		<<if isImpregnatedBy($boomerangSlave, _Slave) || $boomerangSlave.ID == _Slave.ID>> /* did we impregnate the boomerang, or are we the boomerang? */
			<<set _dontDeleteMe = 1>>
		<</if>>
	<</if>>
	<<if _dontDeleteMe == 0>> /* avoid going through this loop if possible */
		<<for _bci2 = 0; _bci2 < $slaves.length; _bci2++>>
			<<if isImpregnatedBy($slaves[_bci2], _Slave)>> /* have we impregnated a slave on the slaves array? */
				<<set _dontDeleteMe = 1>>
				<<break>>
			<</if>>
		<</for>>
	<</if>>
	<<if _dontDeleteMe == 0>>
		<<set $genePool.deleteAt(_bci), _bci-->>
	<</if>>

<</for>>

<<if $incubator > 0>>
	<<for _bci = 0; _bci < $tanks.length; _bci++>>
		<<set _incubatedSlave = $tanks[_bci]>>
		<<PMODinit _incubatedSlave>>
	<</for>>
<</if>>

<<set $AgeEffectOnTrainerPricingPC = 1>>
<<set $AgeEffectOnTrainerEffectivenessPC = 1>>
<<set $AgeTrainingUpperBoundPC = 14>>
<<set $AgeTrainingLowerBoundPC = 12>>
<<set $IsInPrimePC = 3>>
<<set $IsPastPrimePC = 5000>>

<<HeroSlavesCleanup>>
Done!

<<if ndef $PC.hacking>>
	<<set $PC.hacking = 0>>
<</if>>

/* Sec Exp */
<<if $secExp == 1>>
<br>
<<include "SecExpBackwardCompatibility">>
<</if>>

<<if ndef $masteredXP>>
	<<set $masteredXP = 200>>
<</if>>

<<if $clubAdsSpending > 0 && $club == 0>>
	<<set $clubAdsSpending = 0>>
<</if>>
<<if $brothelAdsSpending > 0 && $brothel == 0>>
	<<set $brothelAdsSpending = 0>>
<</if>>

<<run $defaultRules.filter(x => !([true, false, "no default setting"].includes(x.set.preg))).forEach(x => {
	if (x.set.preg === -1) x.set.preg = true;
	else x.set.preg = false;
})>>

<<run $defaultRules.filter(x => x.set.haircuts === undefined).forEach(x => { x.set.haircuts = "no default setting"; })>>

<<run $defaultRules.filter(x => x.set.label === undefined).forEach(x => { x.set.label = "no default setting"; })>>
