:: SA rivalries [nobr]
 
<<if $slaves[$i].fuckdoll == 0>>

<<if $slaves[$i].rivalry == 0>>

<<if $slaves[$i].fetish != "mindbroken">>
	<<if $slaves[$i].behavioralFlaw is "none">>
		<<set $seed to random(1,100)>>
	<<else>>
		<<set $seed to random(1,110)>>
	<</if>>
	<<if $seed > 90>>
	<<for $j to 0; $j < $slaves.length; $j++>>
		<<if $slaves[$j].ID != $slaves[$i].ID>>
		<<if $slaves[$j].assignment is $slaves[$i].assignment>>
		<<if $slaves[$j].assignment != "stay confined">>
		<<if $slaves[$j].assignment != "be confined in the arcade">>
		<<if ($slaves[$j].rivalry == 0) && ($slaves[$i].rivalry == 0)>>
		<<if ($slaves[$i].relationshipTarget != $slaves[$j].ID)>>
		<<if random(-100,100) > ($slaves[$j].devotion+$slaves[$i].devotion)>>
			$slaves[$i].slaveName and $slaves[$j].slaveName see too much of each other and @@color:lightsalmon;start to dislike each other.@@
			<<set $slaves[$j].rivalry to 1>>
			<<set $slaves[$j].rivalryTarget to $slaves[$i].ID>>
			<<set $slaves[$i].rivalry to 1>>
			<<set $slaves[$i].rivalryTarget to $slaves[$j].ID>>
		<</if>>
		<</if>>
		<</if>>
		<</if>>
		<</if>>
		<</if>>
		<</if>>
	<</for>>
	<</if>>
<</if>>

<<else>>

<<if $slaves[$i].fetish is "mindbroken">>

Since she is mindbroken, she @@color:lightsalmon;can't really maintain@@ any meaningful rivalry with
<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$j].slaveName.
		<<set $slaves[$j].rivalry to 0>>
		<<set $slaves[$j].rivalryTarget to 0>>
		<<break>>
	<</if>>
<</for>>
<<set $slaves[$i].rivalry to 0>>
<<set $slaves[$i].rivalryTarget to 0>>

<<else>>

<<if (random(1,100) > 70)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
	<<if ($slaves[$j].assignment != $slaves[$i].assignment) && ($slaves[$i].subTarget != $slaves[$j].ID) && ($slaves[$j].subTarget != $slaves[$i].ID)>>
		With time apart $slaves[$i].slaveName and $slaves[$j].slaveName @@color:lightgreen;dislike each other less.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
	<<elseif ($slaves[$j].fetish is $slaves[$i].fetish) && ($slaves[$j].fetishKnown == 1) && ($slaves[$i].fetishKnown == 1)>>
		$slaves[$i].slaveName and $slaves[$j].slaveName share sexual interests, and in the sexual atmosphere of the arcology, it's @@color:lightgreen;difficult for them to keep up their dislike@@ of one another with the mutual attraction.
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
	<<elseif ($slaves[$j].devotion > 50) && ($slaves[$i].devotion > 50)>>
		Since both $slaves[$i].slaveName and $slaves[$j].slaveName are devoted to you, they work together to @@color:lightgreen;get over their feud,@@ since it gets in the way of their duties.
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
	<<elseif ($slaves[$j].trust < -20) && ($slaves[$i].devotion < -20)>>
		Since both $slaves[$i].slaveName and $slaves[$j].slaveName are terrified of you, they work together to @@color:lightgreen;get over their feud,@@ since it brings punishment on both of them.
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
	<<elseif ($slaves[$j].ID is $slaves[$i].relationshipTarget) && ($slaves[$i].relationship > 3)>>
		<<set $slaves[$j].rivalry to 0>>
		<<set $slaves[$j].rivalryTarget to 0>>
		<<set $slaves[$i].rivalry to 0>>
		<<set $slaves[$i].rivalryTarget to 0>>
	<<elseif (random(1,100) > 70)>>
		$slaves[$i].slaveName and $slaves[$j].slaveName's @@color:lightgreen;feud dissipates a little.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
	<</if>>
	<<break>>
	<</if>>
	<</for>>
<<elseif $familyTesting == 1 && ($slaves[$i].mother > 0 || $slaves[$i].father > 0 || $slaves[$i].daughters > 0 || $slaves[$i].sisters > 0) && (random(1,100) > 80)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$i].slaveName and $slaves[$j].slaveName @@color:lightsalmon;pursue their family rivalry.@@
		<<set $slaves[$j].rivalry += 1>>
		<<set $slaves[$i].rivalry += 1>>
		<<break>>
	<</if>>
	<</for>>
<<elseif ($slaves[$i].relation != 0) && ($slaves[$i].relationTarget is $slaves[$i].rivalryTarget) && (random(1,100) > 80)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$i].slaveName and $slaves[$j].slaveName @@color:lightsalmon;pursue their family rivalry.@@
		<<set $slaves[$j].rivalry += 1>>
		<<set $slaves[$i].rivalry += 1>>
		<<break>>
	<</if>>
	<</for>>
<<elseif $familyTesting == 1 && ($slaves[$i].mother > 0 || $slaves[$i].father > 0 || $slaves[$i].daughters > 0 || $slaves[$i].sisters > 0) && (random(1,100) > 80)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$i].slaveName and $slaves[$j].slaveName @@color:lightgreen;patch up their family relationship.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
		<<break>>
	<</if>>
	<</for>>
<<elseif ($slaves[$i].relation != 0) && ($slaves[$i].relationTarget is $slaves[$i].rivalryTarget) && (random(1,100) > 80)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$i].slaveName and $slaves[$j].slaveName @@color:lightgreen;patch up their family relationship.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
		<<break>>
	<</if>>
	<</for>>
<<elseif ($slaves[$i].energy > 95) && (random(1,100) > 60)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$i].slaveName lusts after $slaves[$j].slaveName, and does everything she can to @@color:lightgreen;patch up their differences.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
		<<break>>
	<</if>>
	<</for>>
<<elseif ($slaves[$i].attrXX > 85) && (random(1,100) > 70)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
	<<if ($slaves[$j].vagina > -1) || ($slaves[$j].faceShape != "masculine")>>
		$slaves[$i].slaveName lusts after $slaves[$j].slaveName, and does everything she can to @@color:lightgreen;patch up their differences.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
		<<break>>
	<</if>>
	<</if>>
	<</for>>
<<elseif ($slaves[$i].attrXY > 85) && (random(1,100) > 70)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
	<<if ($slaves[$j].balls > 0) || ($slaves[$j].faceShape is "masculine")>>
		$slaves[$i].slaveName lusts after $slaves[$j].slaveName, and does everything she can to @@color:lightgreen;patch up their differences.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
		<<break>>
	<</if>>
	<</if>>
	<</for>>
<<elseif (random(1,100) > 90)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$i].slaveName and $slaves[$j].slaveName @@color:lightsalmon;bicker@@ and indulge their rivalry whenever they can.
		<<set $slaves[$j].rivalry += 1>>
		<<set $slaves[$i].rivalry += 1>>
		<<break>>
	<</if>>
	<</for>>
<<elseif (random(1,100) > 90)>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		$slaves[$i].slaveName and $slaves[$j].slaveName manage to @@color:lightgreen;de-escalate their little feud.@@
		<<set $slaves[$j].rivalry -= 1>>
		<<set $slaves[$i].rivalry -= 1>>
		<<break>>
	<</if>>
	<</for>>
<</if>>

<</if>>
<</if>>

<<if $slaves[$i].rivalry != 0>>
	<<set $seed to 0>>
	<<for $j to 0; $j < $slaves.length; $j++>>
	<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
	<<if $slaves[$i].ID is $slaves[$j].rivalryTarget>>
		<<set $seed to 1>>
		<<break>>
	<</if>>
	<</if>>
	<</for>>
	<<if $seed == 0>>
	<<for $j to 0; $j < $slaves.length; $j++>>
		<<if $slaves[$j].ID is $slaves[$i].rivalryTarget>>
		<<set $slaves[$j].rivalry to 0>>
		<<set $slaves[$j].rivalryTarget to 0>>
		<<break>>
		<</if>>
	<</for>>
	<<set $slaves[$i].rivalry to 0>>
	<<set $slaves[$i].rivalryTarget to 0>>
	<</if>>
<</if>>

<</if>> /* CLOSES FUCKDOLL CHECK */
