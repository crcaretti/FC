:: RG AS Dump

<<set $dumped to 0>>

<<set $activeSlave.actualAge to Number($activeSlave.actualAge)>>
<<set $activeSlave.devotion = Number($activeSlave.devotion)>>
<<set $activeSlave.trust = Number($activeSlave.trust)>>
<<set $activeSlave.boobs to Number($activeSlave.boobs)>>

<<if $activeSlave.analArea < $activeSlave.anus>>
	<<set $activeSlave.analArea to $activeSlave.anus>>
<</if>>

<<display "Checkin Checks">>

<<set $genePool.push($activeSlave)>>

/* RECRUITERS */

<<if $familyTesting == 1>>
	<<if $activeSlave.canRecruit == 1>>
		<<set $recruiters.push($activeSlave)>>
	<</if>>
<<else>>

<<if ($activeSlave.relation == 0)>>
<<if random(1,100) <= 5>>
	<<set $activeSlave.recruiter to "twin">>
	<<set $recruiters.push($activeSlave)>>
<<elseif ($activeSlave.actualAge > 32) && (random(1,100) <= 41)>>
	<<set $activeSlave.recruiter to "mother">>
	<<set $recruiters.push($activeSlave)>>
<<elseif ($activeSlave.actualAge < 24) && (random(1,100) <= 40)>>
	<<set $activeSlave.recruiter to "daughter">>
	<<set $recruiters.push($activeSlave)>>
<<elseif ($activeSlave.actualAge < 43) && (random(1,100) <= 20)>>
	<<set $activeSlave.recruiter to "older sister">>
	<<set $recruiters.push($activeSlave)>>
<<elseif ($activeSlave.actualAge < 25) && ($activeSlave.actualAge > 18) && (random(1,100) <= 20)>>
	<<set $activeSlave.recruiter to "young sister">>
	<<set $recruiters.push($activeSlave)>>
<</if>>
<</if>>

<</if>>

<<slaveCost $activeSlave>>

<<if $applyCareerBonus == 1>>
	<<if $PC.career is "capitalist">>
	<<if $activeSlave.whoreSkill < 60>>
		<<set $activeSlave.whoreSkill += 20>>
	<</if>>
	<<elseif $PC.career is "mercenary">>
	<<set $activeSlave.trust += 10>>
	<<elseif $PC.career is "slaver">>
	<<set $activeSlave.devotion += 10>>
	<<elseif $PC.career is "medicine">>
	<<set $activeSlave.boobs += 600>>
	<<set $activeSlave.boobsImplant += 600>>
	<<set $activeSlave.butt += 2>>
	<<set $activeSlave.buttImplant += 2>>
	<<set $activeSlave.lips += 10>>
	<<set $activeSlave.lipsImplant += 10>>
	<<set $activeSlave.waist to 1>>
	<<elseif $PC.career is "celebrity">>
	<<if $activeSlave.entertainSkill < 60>>
		<<set $activeSlave.entertainSkill += 20>>
	<</if>>
	<<elseif $PC.career is "servant">>
	<<set $activeSlave.trust += 10>>
	<<set $activeSlave.devotion += 10>>
	<<elseif $PC.career is "gang">>
		<<set $activeSlave.health += 5>>
		<<if $activeSlave.combatSkill < 1>>
			<<set activeSlave.combatSkill += 1>>
		<</if>>
	<<elseif $PC.career is "escort">>
	<<if $activeSlave.entertainSkill < 60>>
		<<set $activeSlave.entertainSkill += 20>>
	<</if>>
	<<if $activeSlave.whoreSkill < 60>>
		<<set $activeSlave.whoreSkill += 20>>
	<</if>>
	<<set $seed to 1>>
	<<if ($activeSlave.oralSkill < 60)>>
		<<set $activeSlave.oralSkill += 20>>
		<<set $seed -= 1>>
	<</if>>
	<<if ($activeSlave.analSkill < 60) && (($activeSlave.anus > 0) || ($activeSlave.analSkill <= 10))>>
		<<set $activeSlave.analSkill += 20>>
		<<set $seed -= 1>>
	<</if>>
	<<if ($seed > 0) && ($activeSlave.vaginalSkill < 60) && ($activeSlave.vagina > -1) && (($activeSlave.vagina > 0) || ($activeSlave.vaginalSkill <= 10))>>
		<<set $activeSlave.vaginalSkill += 20>>
	<</if>>
	<<else>>
	<<set $seed to 2>>
	<<if ($activeSlave.oralSkill < 60)>>
		<<set $activeSlave.oralSkill += 20>>
		<<set $seed -= 1>>
	<</if>>
	<<if ($activeSlave.analSkill < 60) && (($activeSlave.anus > 0) || ($activeSlave.analSkill <= 10))>>
		<<set $activeSlave.analSkill += 20>>
		<<set $seed -= 1>>
	<</if>>
	<<if ($seed > 0) && ($activeSlave.vaginalSkill < 60) && ($activeSlave.vagina > -1) && (($activeSlave.vagina > 0) || ($activeSlave.vaginalSkill <= 10))>>
		<<set $activeSlave.vaginalSkill += 20>>
	<</if>>
	<</if>>
	<<set $careerBonusApplied to 1>>
<</if>>

<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $activeSlave.ID == $slaves[$i].ID>>
	<<set $slaves[$i] to $activeSlave>>
	<<set $dumped to 1>>
	<<break>>
	<</if>>
<</for>>

<<if $dumped == 0>>
	<<if def $activeSlave.slaveName>>
	<<set $slaves.push($activeSlave)>>
	<<set $dumped to 1>>
	<</if>>
<</if>>

<<goto $returnTo>>