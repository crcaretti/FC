:: extended family widgets [nobr widget]

<<widget "Family">>

/*testtest PC parent passage - determines if the current slave is your mother or father*/
<<if $activeSlave.ID == $PC.mother && $activeSlave.ID == $PC.father>>
	She @@color:lightgreen;is both your mother and father, $pronoun impregnated <<print $object>>self with you.@@
<<elseif $activeSlave.ID == $PC.mother>>
	$pronounCap @@color:lightgreen;is your mother.@@
<<elseif $activeSlave.ID == $PC.father>>
	$pronounCap @@color:lightgreen;is your father.@@
<</if>>

<<if $activeSlave.father == -1 && $activeSlave.mother == -1>>
	$pronounCap's @@color:lightgreen;your child;@@ you knocked yourself up and gave birth to $object.
<</if>>

<<if $activeSlave.father == -1 && $activeSlave.mother != -1>>
	$pronounCap's @@color:lightgreen;your child;@@ you knocked $possessive mother up.
<<elseif $activeSlave.father > 0>>
	<<for $i to 0; $i < $slaves.length; $i++>>
		<<if $slaves[$i].ID == $activeSlave.father>>
			$pronounCap was @@color:lightgreen;fathered by $slaves[$i].slaveName's@@ virile dick.
			<<break>>
		<</if>>
	<</for>>
<</if>>

<<if $activeSlave.father != -1 && $activeSlave.mother == -1>>
	$pronounCap's @@color:lightgreen;your child;@@ you gave birth to $object.
<<elseif $activeSlave.mother > 0>>
	<<for $i to 0; $i < $slaves.length; $i++>>
		<<if $slaves[$i].ID == $activeSlave.mother>>
			$pronounCap was @@color:lightgreen;born from $slaves[$i].slaveName's@@ fertile womb.
			<<break>>
		<</if>>
	<</for>>
<</if>>

<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $activeSlave.ID == $slaves[$i].father>>
		<<set $children.push($slaves[$i])>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap @@color:lightgreen;fathered
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	$pronounCap @@color:lightgreen;fathered a pair of your slaves: $children[0].slaveName, and $children[1].slaveName.@@	
<<elseif $children.length > 0>>
	$pronounCap @@color:lightgreen;fathered a single slave of yours: $children[0].slaveName.@@
<</if>>
<<set $children = []>>

<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $activeSlave.ID == $slaves[$i].mother>>
		<<set $children.push($slaves[$i])>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap @@color:lightgreen;gave birth to
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	$pronounCap @@color:lightgreen;gave birth to a pair of your slaves: $children[0].slaveName, and $children[1].slaveName.@@	
<<elseif $children.length > 0>>
	$pronounCap @@color:lightgreen;gave birth to a single of your slaves: $children[0].slaveName.@@
<</if>>
<<set $children = []>>


/*testtest maternal grandma passage - determines if the current slave has a maternal grandmother*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID && $slaves[$i].ID == $activeSlave.mother>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$j].ID != $activeSlave.ID && $slaves[$j].ID != $slaves[$i].ID && $slaves[$j].ID == $slaves[$i].mother>>
				$pronounCap maternal @@color:lightgreen;grandmother is $slaves[$j].slaveName.@@
			<</if>>
		<</for>>
	<<elseif $PC.ID == $activeSlave.mother && $slaves[$i].ID == $PC.mother>>
		$pronounCap maternal @@color:lightgreen;grandmother is $slaves[$i].slaveName.@@
	<</if>>
<</for>>

/*testtest maternal grandpa passage - determines if the current slave has a maternal grandfather*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID && $slaves[$i].ID == $activeSlave.mother>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$j].ID != $activeSlave.ID && $slaves[$j].ID != $slaves[$i].ID && $slaves[$j].ID == $slaves[$i].father>>
				$pronounCap maternal @@color:lightgreen;grandfather is $slaves[$j].slaveName.@@
			<</if>>
		<</for>>
	<<elseif $PC.ID == $activeSlave.mother && $slaves[$i].ID == $PC.father>>
		$pronounCap maternal @@color:lightgreen;grandfather is $slaves[$i].slaveName.@@
	<</if>>
<</for>>

/*testtest paternal grandma passage - determines if the current slave has a paternal grandmother*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID && $slaves[$i].ID == $activeSlave.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$j].ID != $activeSlave.ID && $slaves[$j].ID != $slaves[$i].ID && $slaves[$j].ID == $slaves[$i].mother>>
				$pronounCap paternal @@color:lightgreen;grandmother is $slaves[$j].slaveName.@@
			<</if>>
		<</for>>
	<<elseif $PC.ID == $activeSlave.father && $slaves[$i].ID == $PC.mother>>
		$pronounCap paternal @@color:lightgreen;grandmother is $slaves[$i].slaveName.@@
	<</if>>
<</for>>

/*testtest paternal grandpa passage - determines if the current slave has a paternal grandfather*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID && $slaves[$i].ID == $activeSlave.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$j].ID != $activeSlave.ID && $slaves[$j].ID != $slaves[$i].ID && $slaves[$j].ID == $slaves[$i].father>>
				$pronounCap paternal @@color:lightgreen;grandfather is $slaves[$j].slaveName.@@
			<</if>>
		<</for>>
	<<elseif $PC.ID == $activeSlave.father && $slaves[$i].ID == $PC.father>>
		$pronounCap paternal @@color:lightgreen;grandfather is $slaves[$i].slaveName.@@
	<</if>>	
<</for>>

/*testtest PC grandparents passage - determines if the current slave is your grandparent*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if $activeSlave.ID == $slaves[$i].mother && $slaves[$i].ID == $PC.mother && $activeSlave.ID == $slaves[$i].father && $slaves[$i].ID == $PC.father>>
		$pronounCap is @@color:lightgreen;your grandparent.@@ $pronounCap impregnated <<print $object>>self with your mother/father who in turn impregnated themselves with you.
	<<elseif $activeSlave.ID == $slaves[$i].mother>>
		<<if $slaves[$i].ID == $PC.mother>>
			$pronounCap is @@color:lightgreen;your maternal grandmother.@@
		<<elseif $slaves[$i].ID == $PC.father>>
			$pronounCap is @@color:lightgreen;your paternal grandmother.@@
		<</if>>
	<<elseif $activeSlave.ID == $slaves[$i].father>>
		<<if $slaves[$i].ID == $PC.mother>>
			$pronounCap is @@color:lightgreen;your maternal grandfather.@@
		<<elseif $slaves[$i].ID == $PC.father>>
			$pronounCap is @@color:lightgreen;your paternal grandfather.@@
		<</if>>
	<</if>>
	<</if>>
<</for>>

/*testtest grandchild passage - determines how many grandchildren the current slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if $activeSlave.ID == $slaves[$i].mother or $activeSlave.ID == $slaves[$i].father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$i].ID != $slaves[$j].ID>>
			<<if $slaves[$i].ID == $slaves[$j].mother or $slaves[$i].ID == $slaves[$j].father>>
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
<</for>>
<<if $children.length > 0>>
	$pronounCap 
<<if $children.length > 2>>
	has @@color:lightgreen;many grandchildren,
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName amongst your slaves.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	has @@color:lightgreen;two grandchildren, $children[0].slaveName, and $children[1].slaveName as your slaves.@@ 
<<elseif $children.length > 0>>
	has a @@color:lightgreen;grandchild, $children[0].slaveName as your slave.@@
<</if>>
<</if>>
<<set $children = []>>

/*testtest PC aunt passage - determines how many aunts you have*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($slaves[$i], $activeSlave) == 1 ||  areSisters($slaves[$i], $activeSlave) == 2>> 
	<<if $slaves[$i].ID == $PC.mother || $slaves[$i].ID == $PC.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$i].ID != $slaves[$j].ID >>
			<<if $slaves[$j].vagina > -1>>
			<<if areSisters($slaves[$j], $activeSlave) == 1 ||  areSisters($slaves[$j], $activeSlave) == 2>>
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.vagina > -1 && $children.length > 0>>
	$pronounCap 
	<<if $children.length > 2>>
		is @@color:lightgreen;your aunt along with 
		<<for $j to 0; $j < $children.length; $j++>>
			<<if $j < $children.length-1>>
				$children[$j].slaveName,
			<<else>>
				and $children[$j].slaveName.@@
			<</if>>
		<</for>>
	<<elseif $children.length > 1>>
		is @@color:lightgreen;your aunt along with $children[0].slaveName.@@
	<<elseif $children.length > 0>>
		<<for $i to 0; $i < $slaves.length; $i++>>
			<<if $slaves[$i].ID != $activeSlave.ID && $activeSlave.vagina > -1>>
			<<if areSisters($slaves[$i], $activeSlave) == 1 ||  areSisters($slaves[$i], $activeSlave) == 2>> 
			<<if $slaves[$i].ID == $PC.mother || $slaves[$i].ID == $PC.father>>
				$pronounCap is @@color:lightgreen;your aunt.@@
			<</if>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
<</if>>
<<set $children = []>>

/*testtest PC uncle passage - determines how many uncles you have*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($slaves[$i], $activeSlave) == 1 ||  areSisters($slaves[$i], $activeSlave) == 2>> 
	<<if $slaves[$i].ID == $PC.mother || $slaves[$i].ID == $PC.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$i].ID != $slaves[$j].ID && $slaves[$j].dick > 0 && $slaves[$j].vagina == -1>>
			<<if areSisters($slaves[$j], $activeSlave) == 1 ||  areSisters($slaves[$j], $activeSlave) == 2>>
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.dick > 0 && $activeSlave.vagina == -1 && $children.length > 0>>
	$pronounCap 
	<<if $children.length > 2>>
		is @@color:lightgreen;your uncle along with 
		<<for $j to 0; $j < $children.length; $j++>>
			<<if $j < $children.length-1>>
				$children[$j].slaveName,
			<<else>>
				and $children[$j].slaveName.@@
			<</if>>
		<</for>>
	<<elseif $children.length > 1>>
		is @@color:lightgreen;your uncle along with $children[0].slaveName.@@
	<<elseif $children.length > 0>>
		<<for $i to 0; $i < $slaves.length; $i++>>
			<<if $slaves[$i].ID != $activeSlave.ID && $activeSlave.dick > 0 && $activeSlave.vagina == -1>>
			<<if areSisters($slaves[$i], $activeSlave) == 1 ||  areSisters($slaves[$i], $activeSlave) == 2>> 
			<<if $slaves[$i].ID == $PC.mother || $slaves[$i].ID == $PC.father>>
				$pronounCap is @@color:lightgreen;your uncle.@@
			<</if>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
<</if>>
<<set $children = []>>

/*testtest aunt passage - determines how many aunts a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if $slaves[$i].ID == $activeSlave.mother || $slaves[$i].ID == $activeSlave.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$j].vagina > -1>>
			<<if areSisters($slaves[$j], $slaves[$i]) == 1 || areSisters($slaves[$j], $slaves[$i]) == 2>> 
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
<</for>>
<<if $children.length > 0>>
	$pronounCap 
<<if $children.length > 2>>
	has @@color:lightgreen;many aunts,
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	 has @@color:lightgreen;two aunts, $children[0].slaveName, and $children[1].slaveName.@@ 
<<elseif $children.length > 0>>
	 has @@color:lightgreen;an aunt, $children[0].slaveName.@@
<</if>>
<</if>>
<<set $children = []>>

/*testtest uncle passage - determines how many uncles a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if $slaves[$i].ID == $activeSlave.mother || $slaves[$i].ID == $activeSlave.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$j].dick > 0 && $slaves[$j].vagina == -1>>
			<<if areSisters($slaves[$j], $slaves[$i]) == 1 || areSisters($slaves[$j], $slaves[$i]) == 2>> 
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.vagina > -1 && $children.length > 0>>
	$pronounCap 
<<if $children.length > 2>>
	has @@color:lightgreen;many aunts,
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	 has @@color:lightgreen;two aunts, $children[0].slaveName, and $children[1].slaveName.@@ 
<<elseif $children.length > 0>>
	 has @@color:lightgreen;an aunt, $children[0].slaveName.@@
<</if>>
<</if>>
<<set $children = []>>

/*testtest PC niece passage - determines how many nieces you have*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($slaves[$i], $PC) == 1 || areSisters($slaves[$i], $PC) == 2>>
	<<if $slaves[$i].ID == $activeSlave.mother || $slaves[$i].ID == $activeSlave.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$i].ID != $slaves[$j].ID && $slaves[$j].vagina > -1>>
			<<if $slaves[$i].ID == $slaves[$j].mother || $slaves[$i].ID == $slaves[$j].father>>
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.vagina > -1 && $children.length > 0>>
	$pronounCap
<<if $children.length > 2>>
	is @@color:lightgreen;your niece along with 
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			 and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	is @@color:lightgreen;your niece along with $children[0].slaveName.@@ 
<<elseif $children.length > 0>>
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID && $activeSlave.vagina > -1>>
	<<if areSisters($slaves[$i], $PC) == 1 || areSisters($slaves[$i], $PC) == 2>>
	<<if $slaves[$i].ID == $activeSlave.mother || $slaves[$i].ID == $activeSlave.father>>
		$pronounCap is @@color:lightgreen;your niece.@@
	<</if>>
	<</if>>
	<</if>>
<</for>>
<</if>>
<</if>>
<<set $children = []>>

/* testtest niece passage - determines how many nieces a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($slaves[$i], $activeSlave) > 0>> 
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$i].ID != $slaves[$j].ID && $slaves[$j].vagina > -1>>
			<<if $slaves[$i].ID == $slaves[$j].mother || $slaves[$i].ID == $slaves[$j].father>>
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.vagina > -1 && $children.length > 0>>
	$pronounCap
<<if $children.length > 2>>
	has @@color:lightgreen;many nieces,
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName, who are your slaves.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	has @@color:lightgreen;two nieces, $children[0].slaveName, and $children[1].slaveName, who are your slaves.@@ 
<<elseif $children.length > 0>>
	has @@color:lightgreen;a niece, $children[0].slaveName, who is your slave.@@
<</if>>
<</if>>
<<set $children = []>>

/*testtest PC nephew passage - determines how many nephews you have*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($slaves[$i], $PC) == 1 || areSisters($slaves[$i], $PC) == 2>>
	<<if $slaves[$i].ID == $activeSlave.mother || $slaves[$i].ID == $activeSlave.father>>
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$i].ID != $slaves[$j].ID && $slaves[$i].dick > 0 && $slaves[$i].vagina == -1>>
			<<if $slaves[$i].ID == $slaves[$j].mother || $slaves[$i].ID == $slaves[$j].father>>
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.dick > 0 && $activeSlave.vagina == -1 && $children.length > 0>>
	$pronounCap
<<if $children.length > 2>>
	is @@color:lightgreen;your nephew along with 
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			 and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	is @@color:lightgreen;your nephew along with $children[0].slaveName.@@ 
<<elseif $children.length > 0>>
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID && $activeSlave.dick > 0 && $activeSlave.vagina == -1>>
	<<if areSisters($slaves[$i], $PC) == 1 || areSisters($slaves[$i], $PC) == 2>>
	<<if $slaves[$i].ID == $activeSlave.mother || $slaves[$i].ID == $activeSlave.father>>
		$pronounCap is @@color:lightgreen;your nephew.@@
	<</if>>
	<</if>>
	<</if>>
<</for>>
<</if>>
<</if>>
<<set $children = []>>

/* testtest nephew passage - determines how many nephews a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($slaves[$i], $activeSlave) > 0>> 
		<<for $j to 0; $j < $slaves.length; $j++>>
			<<if $slaves[$i].ID != $slaves[$j].ID && $slaves[$j].dick > 0 && $slaves[$j].vagina == -1>>
			<<if $slaves[$i].ID == $slaves[$j].mother || $slaves[$i].ID == $slaves[$j].father>>
				<<set $children.push($slaves[$j])>>
			<</if>>
			<</if>>
		<</for>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.vagina > -1 && $children.length > 0>>
	$pronounCap
<<if $children.length > 2>>
	has @@color:lightgreen;many nieces,
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName, who are your slaves.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	has @@color:lightgreen;two nieces, $children[0].slaveName, and $children[1].slaveName, who are your slaves.@@ 
<<elseif $children.length > 0>>
	has @@color:lightgreen;a niece, $children[0].slaveName, who is your slave.@@
<</if>>
<</if>>
<<set $children = []>>

/*testtest PC sibling passages - determines how many siblings you have*/
<<set $children = []>>
<<set _rel_num to areSisters($activeSlave, $PC)>>
<<if(_rel_num > 0)>>
	<<if ($activeSlave.vagina > -1)>>
		<<set _rel_type to "sister">>
	<<else>>
		<<set _rel_type to "brother">>
	<</if>>
	<<if (_rel_num == 1)>>
		<<set _rel_desc to "your twin">>
	<<elseif _rel_num == 2>>
		<<set _rel_desc to "your ">>
	<<elseif _rel_num == 3>>
		<<set _rel_desc to "your half-">>
	<</if>>
	<<for $i to 0; $i < $slaves.length; $i++>>
		<<if $slaves[$i].ID != $activeSlave.ID>>
			<<if _rel_num == areSisters($activeSlave, $slaves[$i]) && ($activeSlave.vagina > -1) == ($slaves[$i].vagina > -1)>>
				<<set console.log('sisters', $slaves[$i].birthName)>>
				<<set $children.push($slaves[$i])>>
			<</if>>
		<</if>>
	<</for>>
	$pronounCap 
<<if $children.length > 1>>
	@@color:lightgreen;is _rel_desc _rel_type along with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>	
<<elseif $children.length > 0>>
	is @@color:lightgreen;_rel_desc _rel_type with $children[0].slaveName.@@	
<<else>>
	is @@color:lightgreen;_rel_desc _rel_type.@@
<</if>>
<</if>>

/*testtest PC twin passages - determines how many twins you have but not implemented yet
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($activeSlave, $PC) == 1 && areSisters($slaves[$i], $activeSlave) == 1>>
		<<set $children.push($slaves[$i])>>
	<</if>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap @@color:lightgreen;shared a cramped womb with you
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			, $children[$j].slaveName
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>	
<<elseif $children.length > 1>>
	$pronounCap is @@color:lightgreen;your twin along with $children[0].slaveName.@@
<<elseif $children.length > 0>>
	$pronounCap is @@color:lightgreen;your twin sister.@@
<</if>>
<<set $children = []>>

testtest PC sister passages - determines how many sisters you have
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($activeSlave, $PC) == 2 && areSisters($slaves[$i], $activeSlave) < 3 && areSisters($slaves[$i], $activeSlave) > 0 && $slaves[$i].vagina > -1>>
		<<set $children.push($slaves[$i])>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.vagina > -1 && $children.length > 0>>
	$pronounCap 
<<if $children.length > 2>>
	@@color:lightgreen;is your sister along with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>	
<<elseif $children.length > 1>>
	is @@color:lightgreen;your sister along with $children[0].slaveName.@@	
<<elseif $children.length > 0>>
	is @@color:lightgreen;your sister.@@
<</if>>
<</if>>
<<set $children = []>>

testtest PC brother passages - determines how many brothers you have
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($activeSlave, $PC) == 2 && areSisters($slaves[$i], $activeSlave) < 2 && areSisters($slaves[$i], $activeSlave) > 0 && $slaves[$i].dick > 0 && $slaves[$i].vagina == -1>>
		<<set $children.push($slaves[$i])>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.dick > 0 && $activeSlave.vagina == -1 && $children.length > 0>>
	$pronounCap 
<<if $children.length > 2>>
	@@color:lightgreen;is your brother along with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>	
<<elseif $children.length > 1>>
	is @@color:lightgreen;your brother along with $children[0].slaveName.@@
<<elseif $children.length > 0>>
	is @@color:lightgreen;your brother.@@
<</if>>
<</if>>
<<set $children = []>>

testtest PC half-sister passages - determines how many half-sisters you have
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($activeSlave, $PC) == 3 && areSisters($slaves[$i], $PC) == 3 && $slaves[$i].vagina > -1>>
		<<set $children.push($slaves[$i])>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.vagina > -1 && $children.length > 0>>
	$pronounCap 
<<if $children.length > 2>>
	is @@color:lightgreen;your half-sister along with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	is @@color:lightgreen;your half-sister along with $children[0].slaveName.@@	
<<elseif $children.length > 0>>
	is @@color:lightgreen;your half-sister.@@
<</if>>
<</if>>
<<set $children = []>>

testtest PC half-brother passages - determines how many half-brothers you have
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
	<<if areSisters($activeSlave, $PC) == 3 && areSisters($slaves[$i], $PC) == 3 && $slaves[$i].dick > 0 && $slaves[$i].vagina == -1>>
		<<set $children.push($slaves[$i])>>
	<</if>>
	<</if>>
<</for>>
<<if $activeSlave.dick > 0 && $activeSlave.vagina == -1 && $children.length > 0>>
	$pronounCap 
<<if $children.length > 2>>
	is @@color:lightgreen;your half-brother along with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	is @@color:lightgreen;your half-brother along with $children[0].slaveName.@@
<<elseif $children.length > 0>>
	is @@color:lightgreen;your half-brother.@@
<</if>>
<</if>>
<<set $children = []>>
*/

/*testtest twins? - determines how many twins a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
		<<if areSisters($activeSlave, $slaves[$i]) == 1>>
			<<set $children.push($slaves[$i])>>
		<</if>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap @@color:lightgreen;shared a cramped womb with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	$pronounCap is a @@color:lightgreen;one of a set of triplets; $children[0].slaveName, and $children[1].slaveName@@ complete the trio.	
<<elseif $children.length > 0>>
	$pronounCap is @@color:lightgreen;twins with $children[0].slaveName.@@
<</if>>
<<set $children = []>>

/*testtest sister - determines how many sisters a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
		<<if areSisters($activeSlave, $slaves[$i]) == 2 && $slaves[$i].vagina > -1>>
			<<set $children.push($slaves[$i])>>
		<</if>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap is @@color:lightgreen;sisters with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	$pronounCap is @@color:lightgreen;sisters with $children[0].slaveName and $children[1].slaveName.@@	
<<elseif $children.length > 0>>
	$pronounCap is @@color:lightgreen;sisters with $children[0].slaveName.@@
<</if>>
<<set $children = []>>

/*testtest brother - determines how many brothers a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
		<<if areSisters($activeSlave, $slaves[$i]) == 2 && $slaves[$i].dick > 0 && $slaves[$i].vagina == -1>>
			<<set $children.push($slaves[$i])>>
		<</if>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap is @@color:lightgreen;brothers with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	$pronounCap is @@color:lightgreen;brothers with $children[0].slaveName and $children[1].slaveName.@@
<<elseif $children.length > 0>>
	$pronounCap is @@color:lightgreen;brothers with $children[0].slaveName.@@
<</if>>
<<set $children = []>>

/*testtest half-sister - determines how many half-sisters a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
		<<if areSisters($activeSlave, $slaves[$i]) == 3 && $slaves[$i].vagina > -1>>
			<<set $children.push($slaves[$i])>>
		<</if>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap is @@color:lightgreen;half-sisters with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	$pronounCap is a @@color:lightgreen;half-sister to $children[0].slaveName and $children[1].slaveName.@@
<<elseif $children.length > 0>>
	$pronounCap is a @@color:lightgreen;half-sister to $children[0].slaveName.@@
<</if>>
<<set $children = []>>

/*testtest half-brother - determines how many half-brothers a slave has*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $activeSlave.ID>>
		<<if areSisters($activeSlave, $slaves[$i]) == 3 && $slaves[$i].dick > 0 && $slaves[$i].vagina == -1>>
			<<set $children.push($slaves[$i])>>
		<</if>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	$pronounCap is @@color:lightgreen;half-brothers with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	$pronounCap is a @@color:lightgreen;half-brother to $children[0].slaveName and $children[1].slaveName.@@
<<elseif $children.length > 0>>
	$pronounCap is a @@color:lightgreen;half-brother to $children[0].slaveName.@@
<</if>>
<<set $children = []>>

<</widget>>

<<widget PlayerFamily>>

<br><br>Your present family includes:

/*Player parents, lists both your parents, or just one.*/
<<for $i to 0; $i < $slaves.length; $i++>>
<<if $slaves[$i].ID == $PC.father || $slaves[$i].ID == $PC.mother>>
			<<set $children.push($slaves[$i])>>
<</if>>
<</for>>
	<<if $children.length > 1>>
		<br>Your parents are @@color:lightgreen;$children[0].slaveName and $children[1].slaveName@@.
	<<elseif $children.length > 0>>
		<br>You know one of your parents, @@color:lightgreen;$children[0].slaveName@@.
	<</if>>
<<set $children = []>>

/*Sister Test with aresisters*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $PC.ID>>
		<<if areSisters($PC, $slaves[$i]) === 2 && areSisters($slaves[$i], $PC) === 2>>
			<<set $children.push($slaves[$i])>>
		<</if>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	<br>You are @@color:lightgreen;sisters with
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	<br>You are sisters with @@color:lightgreen;$children[0].slaveName and $children[1].slaveName.@@
<<elseif $children.length > 0>>
	<br>Your sister is @@color:lightgreen;$children[0].slaveName.@@
<</if>>
<<set $children = []>>

/*Half-Sister Test with aresisters */
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $slaves[$i].ID != $PC.ID>>
	<<if areSisters($slaves[$i], $PC) == 3 && areSisters($PC, $slaves[$i]) == 3>>
			<<set $children.push($slaves[$i])>>
	<</if>>
<</if>>
<</for>>
<<if $children.length > 2>>
	<br>You are half-sisters with @@color:lightgreen;
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName@@.
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	<br>You are half-sisters with @@color:lightgreen;$children[0].slaveName and $children[1].slaveName@@.
<<elseif $children.length > 0>>
	<br>You have one half-sisters, @@color:lightgreen;$children[0].slaveName@@.
<</if>>
<<set $children = []>>

/*Player is Father, lists children you fathered*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $PC.ID == $slaves[$i].father>>
		<<set $children.push($slaves[$i])>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	<br>You are the father of @@color:lightgreen;
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName@@.
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	<br>You are the father of two of your slaves, @@color:lightgreen;$children[0].slaveName, and $children[1].slaveName@@.
<<elseif $children.length > 0>>
	<br>You are the father of one of your slaves, @@color:lightgreen;$children[0].slaveName@@.
<</if>>
<<set $children = []>>

/*Player is Mother, lists birthed children*/
<<for $i to 0; $i < $slaves.length; $i++>>
	<<if $PC.ID == $slaves[$i].mother>>
		<<set $children.push($slaves[$i])>>
	<</if>>
<</for>>
<<if $children.length > 2>>
	<br>You are the mother of@@color:lightgreen;
	<<for $j to 0; $j < $children.length; $j++>>
		<<if $j < $children.length-1>>
			$children[$j].slaveName,
		<<else>>
			and $children[$j].slaveName.@@
		<</if>>
	<</for>>
<<elseif $children.length > 1>>
	<br>You are the mother of two of your slaves, @@color:lightgreen;$children[0].slaveName, and $children[1].slaveName@@.
<<elseif $children.length > 0>>
	<br>You are the mother of one of your slaves, @@color:lightgreen;$children[0].slaveName@@.
<</if>>
<<set $children = []>>

<</widget>>