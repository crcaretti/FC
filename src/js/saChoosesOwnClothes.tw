:: saChoosesOwnClothes [script]

window.saChoosesOwnClothes = function saChoosesOwnClothes(slave) {
	"use strict";
	const V = State.variables;
	let r = "";
	if (slave.choosesOwnClothes !== 1) return r;
	const pronouns = getPronouns(slave);
	const he = pronouns.pronoun;
	const him = pronouns.object;
	const his = pronouns.possessive;
	const hers = pronouns.posessivePronoun;
	const himself = pronouns.objectReflexive;
	const boy = pronouns.noun;
	const He = capFirstChar(he);
	const His = capFirstChar(his);

	const belly_accessory = slave.bellyAccesory;

	if (slave.fetish === "mindbroken") {
		let corsetChoice = todaysCorset(slave);
		let clothingChoice = todaysOutfit(slave);
		slave.bellyAccesory = corsetChoice.bellyAccesory;
		slave.clothes = clothingChoice.clothes;
		r += `${He} is fundamentally broken, but still follows some faint memories of standing within the wardrobe. `;
		if (slave.amp !== 1) {
			let shoeChoice = todaysShoes(slave);
			r += `${shoeChoice.text} `;
			slave.shoes = shoeChoice.shoes;
		}
		r += `${corsetChoice.text} Faced with so many choices and no thought on the matter; ${clothingChoice.text}. `;
	} else if (slave.devotion <= 20) {
		let clothingChoice = todaysOutfit(slave);
		slave.clothes = clothingChoice.clothes;
		r += `${clothingChoice.text} `;
		if (slave.amp !== 1) {
			let shoeChoice = todaysShoes(slave);
			r += `${shoeChoice.text} `;
			slave.shoes = shoeChoice.shoes;
		}
		r += `<span class="mediumorchid">increasing ${his} independence.</span>`;
		slave.devotion -= 5;
	} else {
		let neckChoice = todaysCollar(slave);
		let corsetChoice = todaysCorset(slave);
		let clothingChoice = todaysOutfit(slave);
		slave.collar = neckChoice.collar;
		slave.bellyAccesory = corsetChoice.bellyAccesory;
		slave.clothes = clothingChoice.clothes;
		r += `${He} <span class="hotpink">loves</span> being able to dress ${himself}, ${neckChoice.text} ${corsetChoice.text} ${clothingChoice.text} `;
		slave.devotion += 1;

		if (V.arcologies[0].FSRestart !== "unset" && slave.choosesOwnChastity == 1) {
			if (slave.vagina > -1 && slave.breedingMark === 1 && (slave.vaginalAccessory === "chastity belt" || slave.vaginalAccessory === "combined chastity")) {
				r += `${He} unfastens ${his} chastity belt knowing full well ${his} role in life is to carry ${his} ${WrittenMaster(slave)}'s children. `;
				slave.vaginalAccessory = "none";
			} else if (slave.vagina > -1 && slave.ovaries === 1 && slave.preg === 0 && slave.vaginalAccessory !== "chastity belt") {
				r += `${He} also affixes a chastity belt over ${his} vagina to discourage use of ${his} reproductive organ. `;
				slave.vaginalAccessory = "chastity belt";
			} else if (slave.vagina > -1 && (slave.ovaries === 0 || slave.preg < -1) && slave.vaginalAccessory === "chastity belt") {
				r += `${He} removes ${his} chastity belt since no matter how hard someone tries, ${he} can never become pregnant. `;
				slave.vaginalAccessory = "none";
			}
			if (slave.dick > 0 && slave.balls > 0 && slave.dickAccessory !== "chastity") {
				r += `${He} also affixes a chastity cage onto ${his} dick to discourage use of ${his} reproductive organ. `;
				slave.dickAccessory = "chastity";
			} else if (slave.dick > 0 && slave.balls === 0 && slave.dickAccessory === "chastity") {
				r += `${He} removes ${his} chastity cage since even if ${he} could get erect, ${he} only shoots blanks. `;
				slave.dickAccessory = "none";
			}
		}

		if (slave.amp !== 1) {
			let shoeChoice = todaysShoes(slave);
			r += `${shoeChoice.text}`;
			slave.shoes = shoeChoice.shoes;
		}
	}
	return r;
};
