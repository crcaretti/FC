:: Quick List [script]

window.sortDomObjects = function (objects, attrName)
{
    var sortingByAttr = function (a, b)
    {
        var     aVal    =   parseInt(a.getAttribute(attrName))
            ,   bVal    =   parseInt(b.getAttribute(attrName))
            ;
        return  bVal - aVal;
    };
    return  objects.toArray().sort(sortingByAttr);
};

window.sortButtonsByDevotion    =   function ()
{
    var $sortedButtons   =  $('#qlWrapper button').remove();

    $sortedButtons  =   sortDomObjects($sortedButtons, 'data-devotion');

    $($sortedButtons).appendTo($('#qlWrapper'));
    quickListBuildLinks();
};

window.sortButtonsByTrust   =   function ()
{
    var $sortedButtons   =  $('#qlWrapper button').remove();

    $sortedButtons  =   sortDomObjects($sortedButtons, 'data-trust');

    $($sortedButtons).appendTo($('#qlWrapper'));
    quickListBuildLinks();
};

window.quickListBuildLinks  =   function ()
{
    $("[data-scroll-to]").click(function() {
            var     $this = $(this), $toElement = $this.attr('data-scroll-to'),
                    /*
                    * note the * 1 enforces $offset to be an integer, without
                    *       it we scroll to True, which goes nowhere fast.
                    */
                    $offset =   $this.attr('data-scroll-offset')    * 1 || 0,
                    $speed  =   $this.attr('data-scroll-speed')     * 1 || 500
                ;
            /*
            *   Use javascript scrollTop animation for in page navigation.
            */
            $('html, body').animate({
                    scrollTop: $($toElement).offset().top + $offset
            }, $speed);
    });
};

