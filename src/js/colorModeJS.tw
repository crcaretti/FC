:: colorModeJS [script]

window.setColors = function(colorMap){
    let props = ["color","backgroundColor","backgroundImage"];
    let styleSheetArray = Array.from(document.styleSheets);
    styleSheetArray.forEach( styleSheet => {
        let cssRules = Array.from(styleSheet.cssRules);
        cssRules.forEach( cssRule => {
            if ( cssRule.type === 1 ){
                props.forEach( propName => {
                    let currentValue = cssRule.style[propName];
                    if (
                        currentValue != "" &&
                        currentValue != "inherit" &&
                        currentValue != "transparent"){
                        cssRule.style[propName] = colorMap[currentValue] || currentValue;
                    }
                })
            }
        });
    });
}
